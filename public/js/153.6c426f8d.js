"use strict";(self["webpackChunkyogabhyas"]=self["webpackChunkyogabhyas"]||[]).push([[153,442],{9206:function(e,o,t){t.d(o,{Z:function(){return N}});var r=t(3396),s=t(7139);const a={class:"w-240 py-3"},i={class:"bg-secondary-1 rounded-t-md py-4"},d={class:"px-8 flex justify-between"},l=(0,r._)("div",{class:"text-white font-medium text-sm"},"ORDER PLACED",-1),n={class:"text-white font-light text-sm"},c=(0,r._)("div",{class:"text-white font-medium text-sm"},"TOTAL",-1),u={class:"text-white font-light text-sm"},h=(0,r._)("div",{class:"text-white font-medium text-sm"},"Ship To",-1),b={class:"text-white font-light text-sm"},m=(0,r._)("div",{class:"text-white font-medium text-sm"},"Order ID",-1),k={class:"text-white font-light text-sm"},v={class:"bg-primary-1 rounded-b-md px-10 pt-2 pb-4"},g={class:"flex justify-between items-end"},p={class:"flex"},f=["src"],D={class:"ml-6 mt-4"},y={class:"font-medium text-lg"},w={class:"font-normal text-sm text-gray-600"},x={class:"font-normal text-sm text-gray-600"},_={class:"font-normal text-sm text-gray-600"},I={class:"mb-5"};function A(e,o,t,A,T,Z){return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",i,[(0,r._)("div",d,[(0,r._)("div",null,[l,(0,r._)("div",n,(0,s.zw)(t.orderDate),1)]),(0,r._)("div",null,[c,(0,r._)("div",u,"â‚¹ "+(0,s.zw)(t.bookPrice),1)]),(0,r._)("div",null,[h,(0,r._)("div",b,(0,s.zw)(t.shipTo),1)]),(0,r._)("div",null,[m,(0,r._)("div",k,(0,s.zw)(t.orderID),1)])])]),(0,r._)("div",v,[(0,r._)("div",null,"Delivered "+(0,s.zw)(T.bookDeliveryTime),1),(0,r._)("div",g,[(0,r._)("div",p,[(0,r._)("div",null,[(0,r._)("img",{class:"h-52 object-contain border-none w-full",src:t.bookImageURL,alt:""},null,8,f)]),(0,r._)("div",D,[(0,r._)("div",y,(0,s.zw)(t.bookName),1),(0,r._)("div",w,"Author: "+(0,s.zw)(t.bookAuthor),1),(0,r._)("div",x,"Genre: "+(0,s.zw)(t.bookGenre),1),(0,r._)("div",_,"Publication Date: "+(0,s.zw)(t.bookYear),1)])]),(0,r._)("div",I,[(0,r._)("div",{class:"cursor-pointer hover:bg-secondary-1 hover:text-white bg-white px-5 py-1 rounded-md text-secondary-1 font-medium",onClick:o[0]||(o[0]=e=>Z.addToCart())},"Buy Again")])])])])}var T=t(6780),Z={props:["orderID","bookID","bookName","bookDelivered","bookPrice","bookImageURL","orderDate","shipTo","bookYear","bookGenre","bookAuthor","bookDelivery","orderTrackingID","addressline1","addressline2","city","landmark","state","pincode"],data(){return{user:[],load:!1,id:this.$route.query.id,bookDeliveryTime:this.bookDelivered}},async created(){"NaN-NaN-NaN"===this.bookDelivered&&(this.bookDeliveryTime="");const e=T.Z.firestore();console.log("Inside created() method of userprofile-> sidebar");try{await e.collection("Users").doc(this.id).get().then((e=>{this.user.push(e.data()),this.load=!0}))}catch(o){console.log(o)}},methods:{async addToCart(){alert("Item added to cart successfully"),console.log(this.id);var e=new Set;await T.Z.firestore().collection("Users").doc(this.id).get().then((o=>{e=new Set(o.data().cart)})),e.add(this.bookID),T.Z.firestore().collection("Users").doc(this.id).update({cart:Array.from(e)})}}},R=t(89);const U=(0,R.Z)(Z,[["render",A]]);var N=U},8568:function(e,o,t){t.r(o),t.d(o,{default:function(){return P}});var r=t(3396);const s={class:"relative"},a={class:""},i={class:"absoulute"},d={class:""},l={class:"fixed w-full"},n={class:"mt-20 absolute top-6 left-96"},c={class:"w-240"},u=(0,r._)("div",{class:"text-3xl font-bold text-gray-700"},"ORDER HISTORY",-1);function h(e,o,t,h,b,m){const k=(0,r.up)("Header"),v=(0,r.up)("Sidebar"),g=(0,r.up)("OrderHistory",!0);return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",a,[(0,r.Wm)(k,{userID:b.id,class:"fixed z-10 w-full top-0"},null,8,["userID"])]),(0,r._)("div",i,[(0,r._)("div",d,[(0,r._)("div",l,[(0,r.Wm)(v)])])]),(0,r._)("div",n,[(0,r._)("div",c,[u,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(b.orderedHistory,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(g,{bookID:e.bookID,orderID:e.orderID,bookName:e.bookName,bookPrice:e.bookPrice,bookImageURL:e.bookImageURL,orderDate:e.orderDate,shipTo:e.shipTo,bookYear:e.bookYear,bookGenre:e.bookGenre,bookAuthor:e.bookAuthor,bookDelivered:e.bookDelivered},null,8,["bookID","orderID","bookName","bookPrice","bookImageURL","orderDate","shipTo","bookYear","bookGenre","bookAuthor","bookDelivered"])])))),128))])])])}var b=t(5103),m=t(9308),k=t(9211),v=t(8207),g=t(4372),p=t(7139);const f=(0,r.Uk)("- "),D={key:0,class:"flex-column mt-20 w-80 h-130"},y={class:"rounded-br-lg rounded-tr-lg bg-secondary-1 h-80 pt-5"},w={class:"text-center font-bold text-white",style:{"padding-top":"40%"}},x={class:"text-center mb-10 font-medium text-white"},_=(0,r._)("div",{class:"text-center pt-1 font-medium text-white mb-1"},"User Details",-1),I=(0,r._)("div",{class:"text-center py-3 cursor-pointer font-medium text-white"},"Order Details",-1),A=(0,r._)("div",{class:"bg-secondary-1 rounded-tr-lg"},[(0,r._)("div",{class:"ml-16 w-80 h-10 bg-LGB rounded-lg bg-white"},[(0,r._)("div",{class:"text-left pl-12 pt-2 py-3 font-medium text-gray-700"},"Order History")])],-1),T=(0,r._)("div",{class:"bg-secondary-1 h-[253px] rounded-tr-lg"},null,-1);function Z(e,o,t,s,a,i){const d=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[f,a.load?((0,r.wg)(),(0,r.iD)("div",D,[(0,r._)("div",y,[(0,r._)("div",w,(0,p.zw)(a.user.name),1),(0,r._)("div",x,(0,p.zw)(a.user.email),1),(0,r.Wm)(d,{to:{path:"/User",query:{id:this.id}}},{default:(0,r.w5)((()=>[_])),_:1},8,["to"]),(0,r.Wm)(d,{to:{path:"/OrderDetails",query:{id:this.id}}},{default:(0,r.w5)((()=>[I])),_:1},8,["to"])]),A,T])):(0,r.kq)("",!0)],64)}var R=t(6780),U={data(){return{user:[],load:!1,id:this.$route.query.id}},async created(){const e=R.Z.firestore();console.log("Inside created() method of userprofile-> sidebar");try{await e.collection("Users").doc(this.id).get().then((e=>{this.user=e.data(),this.load=!0}))}catch(o){console.log(o)}console.log(this.user)}},N=t(89);const H=(0,N.Z)(U,[["render",Z]]);var O=H,Y=t(9206),z={data(){return{orderedHistory:[{orderID:"46FA4F65A4F6A",bookName:"Gitanjali",bookPrice:"1300",bookImageURL:"https://picsum.photos/200/300",orderDate:"2 April 2022",shipTo:"Ajay sharma",bookYear:"1910",bookGenre:"Poem",bookAuthor:"Rabindranath Tagore",bookDelivered:"8 April 2022"},{orderID:"46FA4F65A4F6A",bookName:"A Thousand Splendid Suns",bookPrice:"1300",bookImageURL:"https://picsum.photos/200/300",orderDate:"2 April 2022",shipTo:"Ajay sharma",bookYear:"1910",bookGenre:"Poem",bookAuthor:"Rabindranath Tagore",bookDelivered:"8 April 2022"}],id:this.$route.query.id,orders:[]}},async created(){var e;this.orderedHistory=[],await R.Z.firestore().collection("Users").doc(this.id).get().then((o=>{this.orders=o.data().orders,e=o.data().name})),console.log(this.orders),this.orders.forEach((async o=>{var t=o;await R.Z.firestore().collection("Orders").doc(o).get().then((o=>{if(!0===o.data().orderCompleted){var r=this.calcTime(o.data().orderDate),s=this.calcTime(o.data().bookDelivered);o.data().books.forEach((async o=>{var a=new Object;await R.Z.firestore().collection("books").doc(o).get().then((e=>{console.log(e.data()),a.bookName=e.data().name,a.bookID=o,a.bookPrice=e.data().price,a.bookYear=e.data().publicationYear,a.bookGenre=e.data().genre,a.bookAuthor=e.data().author,a.bookImageURL=e.data().url})).finally((()=>{a.shipTo=e,a.orderID=t,a.orderDate=r,a.bookDelivered=s,this.orderedHistory.push(a),console.log(this.orderedHistory),a=new Object}))}))}}))}))},methods:{calcTime(e){e=e??0;var o=e.seconds,t=new Date(1e3*o),r=t.getDate()<10?"0"+t.getDate():t.getDate(),s=t.getFullYear(),a=t.getMonth()<10?"0"+t.getMonth():t.getMonth();return r+"-"+a+"-"+s}},components:{Header:b.Z,Filter:m.Z,LatestBooks:k.Z,ResultBook:v.Z,BookCoverCat:g.Z,Sidebar:O,OrderHistory:Y.Z}};const L=(0,N.Z)(z,[["render",h]]);var P=L}}]);
//# sourceMappingURL=153.6c426f8d.js.map