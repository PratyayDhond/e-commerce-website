{"ast":null,"code":"import Header from '../../components/Header/Header.vue';\nimport Filter from '../../components/Filter/Filter.vue';\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\nimport ResultBook from '../../components/Search/ResultBook.vue';\nimport BookCoverCat from '../../components/HomePage/BookCoverCat.vue';\nimport Sidebar from '../../components/User/OrderDetailsView/Sidebar.vue';\nimport OrderHistory from '../../components/User/OrderHistoryView/OrderHistory.vue';\nimport OrderDetails from '../../components/User/OrderDetailsView/OrderDetails.vue';\nimport firebase from 'firebase/compat/app';\nexport default {\n  data() {\n    return {\n      orderedDetails: [],\n      id: this.$route.query.id\n    };\n  },\n\n  components: {\n    Header,\n    Filter,\n    LatestBooks,\n    ResultBook,\n    BookCoverCat,\n    Sidebar,\n    OrderHistory,\n    OrderDetails\n  },\n\n  async created() {\n    var obj = new Object();\n    var orders = [];\n    await firebase.firestore().collection(\"Users\").doc(this.id).get().then(snapshot => {\n      orders = snapshot.data().orders;\n      obj.shipTo = snapshot.data().name;\n      obj.addressline1 = snapshot.data().addrLine1;\n      obj.addressline2 = snapshot.data().addrLine2;\n      obj.city = snapshot.data().city;\n      obj.landmark = snapshot.data().landmark;\n      obj.state = snapshot.data().state;\n      obj.pincode = snapshot.data().zipcode;\n      console.log(orders);\n    });\n    orders.forEach(async order => {\n      obj.orderID = order;\n      await firebase.firestore().collection(\"Orders\").doc(order).get().then(snapshot => {\n        console.log(snapshot.data());\n        obj.orderDate = snapshot.data().orderDate;\n        obj.bookDelivery = snapshot.data().expectedDate;\n        snapshot.data().books.forEach(async book => {\n          console.log(book);\n          console.log(obj);\n          await firebase.firestore().collection('books').doc(book).get().then(snapshot => {\n            obj.bookName = snapshot.data().name;\n            obj.bookPrice = snapshot.data().price;\n            obj.bookImageURL = snapshot.data().url;\n            obj.bookYear = snapshot.data().publicationYear;\n            obj.bookGenre = snapshot.data().genre || \"\";\n            obj.bookAuthor = snapshot.data().author || \"\";\n            console.log(obj); //:city=\"item.city\" :landmark=\"item.landmark\" :state=\"item.state\" :pincode=\"item.pincode\" />\n          }).finally(() => {\n            this.orderedDetails.push(obj); // console.log(obj);\n          });\n        });\n      });\n    });\n  }\n\n};","map":{"version":3,"mappings":"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","names":["Header","Filter","LatestBooks","ResultBook","BookCoverCat","Sidebar","OrderHistory","OrderDetails","firebase","data","orderedDetails","id","$route","query","components","created","obj","Object","orders","firestore","collection","doc","get","then","snapshot","shipTo","name","addressline1","addrLine1","addressline2","addrLine2","city","landmark","state","pincode","zipcode","console","log","forEach","order","orderID","orderDate","bookDelivery","expectedDate","books","book","bookName","bookPrice","price","bookImageURL","url","bookYear","publicationYear","bookGenre","genre","bookAuthor","author","finally","push"],"sourceRoot":"","sources":["W:\\Coding\\finalProject\\e-commerce-website\\src\\views\\OrderDetails\\OrderDetails.vue"],"sourcesContent":["<!--  \r\n    orderID:'46FA4F65A4F6A',\r\n    orderTrackingID : '6HDF45HD4655F2A',\r\n    bookName:\"Gitanjali\",\r\n    bookPrice:\"1300\",\r\n    bookImageURL:\"https://picsum.photos/200/300\",\r\n    orderDate:\"2 April 2022\",\r\n    shipTo: \"Ajay sharma\",\r\n    bookYear: \"1910\",\r\n    bookGenre: \"Poem\",\r\n    bookAuthor:\"Rabindranath Tagore\",\r\n    bookDelivery:\"8 April 2022\",\r\n    addressline1:\"56, Kshitija Apartments\",\r\n    addressline2:\"B4 Wings, Civil Lines\",\r\n    city:\"Nagpur\",\r\n    landmark:\"Near Centeer Point\",\r\n    state:\"Maharashtra\",\r\n    pincode:\"424075\"\r\n -->\r\n\r\n<script>\r\nimport Header from '../../components/Header/Header.vue';\r\nimport Filter from '../../components/Filter/Filter.vue';\r\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\r\nimport ResultBook from '../../components/Search/ResultBook.vue';\r\nimport BookCoverCat from '../../components/HomePage/BookCoverCat.vue';\r\nimport Sidebar from '../../components/User/OrderDetailsView/Sidebar.vue';\r\nimport OrderHistory from '../../components/User/OrderHistoryView/OrderHistory.vue';\r\nimport OrderDetails from '../../components/User/OrderDetailsView/OrderDetails.vue';\r\nimport firebase from 'firebase/compat/app'; \r\nexport default{\r\n    data(){\r\n        return{\r\n            orderedDetails: [],\r\n            id: this.$route.query.id\r\n        }\r\n    },\r\n    components:{\r\n    Header,\r\n    Filter,\r\n    LatestBooks,\r\n    ResultBook,\r\n    BookCoverCat,\r\n    Sidebar,\r\n    OrderHistory,\r\n    OrderDetails\r\n    },\r\n    async created(){\r\n        var obj = new Object;\r\n        var orders = [];\r\n        await firebase.firestore().collection(\"Users\").doc(this.id).get().then((snapshot) => {\r\n            orders = snapshot.data().orders;\r\n            obj.shipTo = snapshot.data().name;\r\n            obj.addressline1 = snapshot.data().addrLine1;\r\n            obj.addressline2 = snapshot.data().addrLine2;  \r\n            obj.city = snapshot.data().city;\r\n            obj.landmark = snapshot.data().landmark;\r\n            obj.state = snapshot.data().state;\r\n            obj.pincode = snapshot.data().zipcode;\r\n\r\n            console.log(orders)\r\n        })  \r\n\r\n        orders.forEach(async order =>  {\r\n            obj.orderID = order;\r\n            await firebase.firestore().collection(\"Orders\").doc(order).get().then(snapshot => {\r\n                 console.log(snapshot.data())  \r\n                 obj.orderDate = snapshot.data().orderDate;\r\n                 obj.bookDelivery = snapshot.data().expectedDate;\r\n                \r\n                 snapshot.data().books.forEach(async book => {\r\n                    console.log(book);\r\n                    console.log(obj);\r\n                    await firebase.firestore().collection('books').doc(book).get().then(snapshot => {\r\n                        obj.bookName = snapshot.data().name;\r\n                        obj.bookPrice = snapshot.data().price;\r\n                        obj.bookImageURL = snapshot.data().url;\r\n                        obj.bookYear = snapshot.data().publicationYear;\r\n                        obj.bookGenre = snapshot.data().genre || \"\";\r\n                        obj.bookAuthor = snapshot.data().author || \"\";\r\n                        console.log(obj);\r\n                        //:city=\"item.city\" :landmark=\"item.landmark\" :state=\"item.state\" :pincode=\"item.pincode\" />\r\n                    }).finally(() => {\r\n                        this.orderedDetails.push(obj);\r\n                        // console.log(obj);\r\n                    })\r\n                 })             \r\n            })               \r\n        });\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"relative\" >\r\n        <!-- Header -->\r\n        <div class=\"\">\r\n            <Header :userID=\"id\" class=\"fixed z-10 w-full top-0\" />\r\n        </div>\r\n        \r\n        <!-- Filter -->\r\n        <div class=\"absoulute\">\r\n            <div class=\"\">              \r\n                <div class=\"fixed w-full\">\r\n                    <Sidebar id=\"id\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Order History -->\r\n        <div class=\"mt-20 absolute top-6 left-96\">\r\n            <div class=\"w-240\">\r\n                <div class=\"text-3xl font-bold text-gray-700\">ORDER DETAILS</div>\r\n                <div class=\"flex mt-2 justify-between px-4 pb-4\">\r\n                    <div class=\"w-80 flex\">\r\n                        <div class=\"mr-8\">\r\n                            <div class=\"bg-primary-1 px-2 rounded-sm w-20 text-center\" >Product</div>\r\n                        </div>\r\n                        <div>\r\n                            <div class=\"bg-primary-1 px-2 rounded-sm w-20 text-center\" >Details</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"w-15\">\r\n                        <div class=\"bg-primary-1 px-2 rounded-sm w-20 text-center -ml-5\" >Price</div>\r\n                    </div>\r\n                    <div class=\"w-64\">\r\n                        <div class=\"bg-primary-1 px-2 rounded-sm w-20 text-center\" >Delivery</div>\r\n                    </div>\r\n                    \r\n                    \r\n                    \r\n                </div>\r\n                <div v-for=\"item in orderedDetails\" :key=\"item.id\">\r\n                    <OrderDetails :orderID=\"item.orderID\" :bookName=\"item.bookName\" :bookPrice=\"item.bookPrice\" :bookImageURL=\"item.bookImageURL\" :orderDate=\"item.orderDate\" :shipTo=\"item.shipTo\" :bookYear=\"item.bookYear\" :bookGenre=\"item.bookGenre\" :bookAuthor=\"item.bookAuthor\" :bookDelivery=\"item.bookDelivery\" :addressline1=\"item.addressline1\" :addressline2=\"item.addressline2\" :city=\"item.city\" :landmark=\"item.landmark\" :state=\"item.state\" :pincode=\"item.pincode\" />\r\n                    </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n    \r\n        \r\n</template>\r\n\r\n<style>\r\n</style>\r\n\r\n                    <!-- <ResultBook :bookName=\"item.bookName\" :bookDate=\"item.bookDate\" :bookLanguage=\"item.bookLanguage\" :bookCover=\"item.bookCover\" :bookPrice=\"item.bookPrice\" :bookImageURL=\"item.bookImageURL\"/> -->"]},"metadata":{},"sourceType":"module"}