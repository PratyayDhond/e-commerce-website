{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, withCtx as _withCtx, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"relative\"\n};\nconst _hoisted_2 = {\n  class: \"\"\n};\nconst _hoisted_3 = {\n  class: \"flex mt-32 mx-28\"\n};\nconst _hoisted_4 = {\n  class: \"w-4/6\"\n};\nconst _hoisted_5 = {\n  class: \"flex justify-between items-baseline\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-4xl font-bold font-calibri\"\n}, \"Book Cart\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  class: \"text-2xl font font-calibri\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-full bg-gray-300 h-px mt-5\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"flex\\\"><div class=\\\"w-3/6\\\"><div class=\\\"flex justify-between\\\"><p class=\\\"mt-6 pl-2 text-gray-400\\\">Product Details</p></div></div><div class=\\\"w-1/6\\\"><div class=\\\"flex justify-between\\\"><p class=\\\"mt-6 ml-6 text-gray-400\\\">Quantity</p></div></div><div class=\\\"w-1/6\\\"><div class=\\\"flex justify-between\\\"><p class=\\\"mt-6 pl-10 text-gray-400\\\">Price</p></div></div><div class=\\\"w-1/6\\\"><div class=\\\"flex justify-between\\\"><p class=\\\"mt-6 pl-12 text-gray-400\\\">Total</p></div></div></div>\", 1);\n\nconst _hoisted_10 = {\n  class: \"w-6/6 pt-4\"\n};\nconst _hoisted_11 = {\n  key: 0\n};\nconst _hoisted_12 = {\n  key: 0\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = [_hoisted_13];\nconst _hoisted_15 = {\n  key: 1\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"h-96 w-px bg-gray-300 ml-4 mr-4\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = {\n  class: \"w-2/6\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-4xl font-bold font-calibri\"\n}, \"Order Summary\", -1\n/* HOISTED */\n);\n\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-full bg-gray-300 h-px mt-5\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_20 = {\n  class: \"flex justify-between\"\n};\nconst _hoisted_21 = {\n  class: \"pt-8\"\n};\nconst _hoisted_22 = {\n  class: \"pt-8\"\n};\nconst _hoisted_23 = {\n  class: \"flex justify-between\"\n};\n\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"pt-8\"\n}, \"DISCOUNT \", -1\n/* HOISTED */\n);\n\nconst _hoisted_25 = {\n  class: \"pt-8\"\n};\nconst _hoisted_26 = {\n  class: \"flex justify-between\"\n};\n\nconst _hoisted_27 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"pt-8\"\n}, \"DELIVERY CHARGES\", -1\n/* HOISTED */\n);\n\nconst _hoisted_28 = {\n  class: \"pt-8\"\n};\nconst _hoisted_29 = {\n  class: \"flex justify-between\"\n};\n\nconst _hoisted_30 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"pt-40 text-xl font-bold\"\n}, \"TOTAL COST\", -1\n/* HOISTED */\n);\n\nconst _hoisted_31 = {\n  class: \"pt-40 text-xl font-bold\"\n};\nconst _hoisted_32 = {\n  class: \"flex justify-center pt-6\"\n};\nconst _hoisted_33 = {\n  class: \"flex py-2 items-center text-sm text-black rounded-md text-center cursor-pointer fill-current hover:text-secondary-1 font-sm\"\n};\n\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"w-6\",\n  version: \"1.1\",\n  id: \"Capa_1\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"xmlns:xlink\": \"http://www.w3.org/1999/xlink\",\n  x: \"0px\",\n  y: \"0px\",\n  viewBox: \"0 0 400.004 400.004\",\n  style: {\n    \"enable-background\": \"new 0 0 400.004 400.004\"\n  },\n  \"xml:space\": \"preserve\"\n}, [/*#__PURE__*/_createElementVNode(\"g\", null, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M382.688,182.686H59.116l77.209-77.214c6.764-6.76,6.764-17.726,0-24.485c-6.764-6.764-17.73-6.764-24.484,0L5.073,187.757\\r\\n\\t            \\tc-6.764,6.76-6.764,17.727,0,24.485l106.768,106.775c3.381,3.383,7.812,5.072,12.242,5.072c4.43,0,8.861-1.689,12.242-5.072\\r\\n\\t            \\tc6.764-6.76,6.764-17.726,0-24.484l-77.209-77.218h323.572c9.562,0,17.316-7.753,17.316-17.315\\r\\n               \\tC400.004,190.438,392.251,182.686,382.688,182.686z\"\n})])], -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n\n  const _component_OrderCart = _resolveComponent(\"OrderCart\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_Header, {\n    userID: $data.userID,\n    class: \"fixed z-10 w-full top-0\"\n  }, null, 8\n  /* PROPS */\n  , [\"userID\"])])]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, _toDisplayString($data.items) + \" items\", 1\n  /* TEXT */\n  )]), _hoisted_8, _createElementVNode(\"div\", null, [_hoisted_9, _createElementVNode(\"div\", _hoisted_10, [this.isLoaded ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [this.books.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, _hoisted_14)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.books, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.id\n    }, [_createCommentVNode(\" // Here what can be done is pass the value of data of book as parameter to the /book in order to show the details of the book cliked \"), _createCommentVNode(\" <router-link to=\\\"/book\\\">   \"), _createVNode(_component_OrderCart, {\n      onCalculate: $options.calculate,\n      bookName: item.name,\n      bookAuthor: item.author,\n      bookSubject: \"English\",\n      bookGenre: \"-\",\n      bookDate: item.publicationYear,\n      bookImageURL: item.url,\n      bookQuantity: \"0\",\n      bookPrice: item.price,\n      id: this.userID,\n      bookID: item.id\n    }, null, 8\n    /* PROPS */\n    , [\"onCalculate\", \"bookName\", \"bookAuthor\", \"bookDate\", \"bookImageURL\", \"bookPrice\", \"id\", \"bookID\"]), _createCommentVNode(\" </router-link> \")]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]))])) : _createCommentVNode(\"v-if\", true)])])]), _hoisted_16, _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _hoisted_19, _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"p\", _hoisted_21, \"ITEMS \" + _toDisplayString($data.items), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", _hoisted_22, _toDisplayString($data.cost), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_23, [_hoisted_24, _createElementVNode(\"p\", _hoisted_25, _toDisplayString($data.dis), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_26, [_hoisted_27, _createElementVNode(\"p\", _hoisted_28, _toDisplayString($data.deliv * this.items), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_29, [_hoisted_30, _createElementVNode(\"p\", _hoisted_31, _toDisplayString($data.cost + $data.deliv * this.items), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_32, [_createCommentVNode(\" <router-link to=\\\"404\\\"> \"), _createCommentVNode(\" BOOKMARK -> Paywall will go here \"), _createElementVNode(\"button\", {\n    class: \"bg-secondary-1 hover:bg-primary-1 hover:text-black text-white font-semibold text-xl h-10 pl-40 pr-40 tracking-widest\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.checkout && $options.checkout(...args))\n  }, \"CHECKOUT\"), _createCommentVNode(\" </router-link> \")]), _createVNode(_component_router_link, {\n    to: \"/home\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", {\n      class: \"ml-18 mt-8 flex\",\n      onClick: $event => true\n    }, [_createElementVNode(\"div\", _hoisted_33, [_hoisted_34, _createElementVNode(\"div\", {\n      class: \"pl-2 text-xl\",\n      onClick: $event => true\n    }, \"Continue Shopping\")])])]),\n    _: 1\n    /* STABLE */\n\n  })])])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_hoisted_13","version","id","xmlns","x","y","viewBox","style","d","_createCommentVNode","_createVNode","_component_Header","userID","$data","_hoisted_6","_toDisplayString","_hoisted_8","_hoisted_9","isLoaded","_createElementBlock","_hoisted_11","books","length","_hoisted_12","_hoisted_14","_hoisted_15","_Fragment","_renderList","item","key","_component_OrderCart","onCalculate","$options","bookName","name","bookAuthor","author","bookSubject","bookGenre","bookDate","publicationYear","bookImageURL","url","bookQuantity","bookPrice","price","bookID","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_24","_hoisted_27","items","_hoisted_30","onClick","_component_router_link","to","_hoisted_34"],"sourceRoot":"","sources":["W:\\Coding\\finalProject\\e-commerce-website\\src\\views\\Cart\\cart.vue"],"sourcesContent":["<script>\r\nimport Header from '../../components/Header/Header.vue';\r\nimport Filter from '../../components/Filter/Filter.vue';\r\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\r\nimport ResultBook from '../../components/Search/ResultBook.vue';\r\nimport OrderSummary from '../../components/Search/OrderCart.vue';\r\nimport OrderCart from '../../components/Search/OrderCart.vue';\r\nimport OrderDetails from '../OrderDetails/OrderDetails.vue';\r\nimport firebase from 'firebase/compat/app'; \r\n\r\nexport default{\r\n  // props: [\"userID\"],\r\n   data(){\r\n     return{\r\n       cost: 0,\r\n       items: 0,\r\n       prices: [],\r\n       orderPlaced: false,\r\n        dis: 0,\r\n        //BOOKMARK\r\n        //Change this value according to the need\r\n         deliv: 40, \r\n        userID: this.$route.query.id,\r\n        books: [],\r\n        checkoutBooksUnique: new Set(),\r\n        checkoutBooks: new Map(),        \r\n        checkoutBooksPrice: new Map(), \r\n        isLoaded: false, \r\n     }\r\n   },\r\n   async created() {\r\n        const db = firebase.firestore(); \r\n        // console.log(this.searchedBooks)\r\n        console.log(\"Inside created() method\")\r\n\r\n        try{\r\n\r\n          db.collection('Users').doc(this.userID).get().then((r) => {\r\n            console.log(r.data());\r\n            var arr = r.data().cart;\r\n            console.log(arr);\r\n\r\n            for(let i = 0; i < arr.length; i++){\r\n              db.collection('books').doc(arr[i]).get().then((book) => {\r\n                var temp = book.data()\r\n                temp.id = arr[i]\r\n                this.books.push(temp)\r\n              })\r\n            }\r\n            console.log('Searched Books array')\r\n              console.log(this.books);  \r\n\r\n          }).finally(() => {this.isLoaded = true; console.log(this.isLoaded)});\r\n        }\r\n\r\n        catch(e){\r\n            console.log(e)\r\n        }\r\n    },\r\n\r\n    components:{\r\n    Header,\r\n    Filter,\r\n    LatestBooks,\r\n    ResultBook,\r\n    OrderSummary,\r\n    OrderCart\r\n},\r\nmethods: {\r\n  async checkout() {\r\n    console.log(\"Inside Checkout function\");\r\n    var amount = 0;\r\n    var quantity= 0;\r\n    var quantityArr = [];\r\n    this.checkoutBooksUnique.forEach((bookID) => {\r\n      console.log(bookID);\r\n      console.log(bookID + \" \" + this.checkoutBooksPrice.get(bookID) * this.checkoutBooks.get(bookID));\r\n      amount += this.checkoutBooksPrice.get(bookID) * this.checkoutBooks.get(bookID);\r\n      quantity += this.checkoutBooks.get(bookID);\r\n      quantityArr.push(this.checkoutBooks.get(bookID));\r\n    })\r\n    if(quantity === 0)\r\n      return alert('You cannot checkout with an empty cart!')\r\n    if(this.orderPlaced)\r\n      return alert('Please wait until the current order is being processed');\r\n      console.log(this.orderPlaced)\r\n    this.orderPlaced = true;\r\n      var books = [];\r\n      this.checkoutBooksUnique.forEach(item => {\r\n        books.push(item)\r\n      })\r\n    // BOOKMARK: PAYWALL GOES HERE\r\n    var total = amount + this.deliv * quantity;\r\n      let orderID = \"\";\r\n      await firebase.firestore().collection(\"Orders\").add({\r\n        books: books,\r\n        quantity: quantityArr,\r\n        amount: amount, \r\n        total:total,\r\n        shippingCharges: this.deliv,\r\n        orderDate: new Date(),\r\n        // BOOKMARK: expected delivery to 14 days from order time.\r\n        expectedDate: new Date(Date.now() + 12096e5),\r\n        packageNo: \"\",\r\n        discount: 0,\r\n        orderCompleted: false, \r\n        bookDelivered: 0,      \r\n      }).then(snapshot => {\r\n        orderID = snapshot.id;\r\n      })\r\n\r\n      console.log(orderID);\r\n      var userData;\r\n      console.log(this.userID)\r\n      await firebase.firestore().collection(\"Users\").doc(this.userID).get().then(snapshot => {\r\n        console.log(snapshot.data());\r\n        userData = snapshot.data();\r\n      })\r\n      console.log(userData);\r\n      var orders = userData.orders ?? [];\r\n      orders.push(orderID);\r\n\r\n      firebase.firestore().collection(\"Users\").doc(this.userID).set({\r\n        addrLine1: userData.addrLine1,  \r\n        addrLine2: userData.addrLine2,\r\n        //BOOKMARK : EMPTYING CART AFTER ORDERING\r\n        cart: [],\r\n        city: userData.city,\r\n        landmark:userData.landmark,\r\n        mobile: userData.mobile,\r\n        name: userData.name,\r\n        orders: orders,\r\n        state: userData.state,\r\n        wishList: userData.wishList,\r\n        zipcode: userData.zipcode,\r\n        email: userData.email,\r\n      }).finally( () => {\r\n        this.books = [];\r\n        this.items = 0;\r\n        this.cost = 0;\r\n        this.discount = 0;\r\n        this.orderPlaced = false;\r\n        this.checkoutBooksUnique = new Set();\r\n        this.checkoutBooks = new Map();\r\n        this.checkoutBooksPrice = new Map();\r\n        alert(\"Order Placed Successfully\");\r\n\r\n      })\r\n\r\n    // })\r\n  },\r\n  calculateTotal(quantity){\r\n    this.items += quantity \r\n       this.cost += this.prices[this.prices.length-1];\r\n       console.log(\"current cost : \" + this.cost) \r\n  },\r\n\r\n  calculate(price,quantity, bookID){\r\n    this.prices.push(price);\r\n    console.log(bookID);\r\n    this.calculateTotal(quantity);\r\n    this.checkoutBooksUnique.add(bookID);\r\n    var count = this.checkoutBooks.get(bookID) || 0;\r\n\r\n    // Checking for if book's quantity is decremented or incremented.\r\n    if(quantity === 1)\r\n    this.checkoutBooks.set(bookID,count+1);\r\n    else if(quantity === -1){\r\n      if(count > 0)\r\n        this.checkoutBooks.set(bookID,count-1);\r\n    }\r\n\r\n\r\n    if(price > 0)\r\n    this.checkoutBooksPrice.set(bookID,price);\r\n    console.log(this.checkoutBooks);\r\n    console.log(this.checkoutBooksUnique)\r\n    console.log(this.checkoutBooksPrice)\r\n  },\r\n}\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"relative \" >\r\n        <!-- Header -->\r\n        <div class=\"\">\r\n            <Header :userID=\"userID\" class=\"fixed z-10 w-full top-0\" />\r\n       \r\n        </div>\r\n     </div> \r\n\r\n        <div class=\"flex  mt-32 mx-28\">\r\n        <div class=\"w-4/6 \">\r\n          <div class=\"flex justify-between items-baseline   \">\r\n                <div class=\"  text-4xl font-bold font-calibri\" >Book Cart</div>\r\n                <div class=\"  text-2xl font font-calibri\">{{items}} items</div>\r\n          </div>\r\n                <div class=\"w-full bg-gray-300 h-px mt-5\"></div>\r\n<div>\r\n  <div class=\"flex\">\r\n    <div class=\"w-3/6\">\r\n                  <div class=\"flex justify-between\">\r\n      <p class=\"mt-6 pl-2  text-gray-400\">Product Details</p>\r\n      </div>\r\n\r\n    </div>\r\n  <div class=\"w-1/6\">\r\n                  <div class=\"flex justify-between\">\r\n      <p class=\"mt-6 ml-6 text-gray-400\">Quantity</p>\r\n      </div>\r\n\r\n    </div>\r\n \r\n   <div class=\"w-1/6\">\r\n                  <div class=\"flex justify-between\">\r\n      <p class=\"mt-6 pl-10  text-gray-400\">Price</p>\r\n      </div>\r\n\r\n    </div>\r\n   <div class=\"w-1/6\">\r\n                  <div class=\"flex justify-between\">\r\n     <p class=\"mt-6 pl-12  text-gray-400\">Total</p>\r\n      </div>\r\n       </div>\r\n    </div>\r\n<div class=\"w-6/6 pt-4\">\r\n  <div v-if=\"this.isLoaded\">\r\n    <div v-if=\"this.books.length === 0\">\r\n        <div>\r\n        </div>\r\n    </div>\r\n    <div v-else>\r\n        <div v-for=\"item in books\" :key=\"item.id\">\r\n        <!-- // Here what can be done is pass the value of data of book as parameter to the /book in order to show the details of the book cliked -->\r\n          <!-- <router-link to=\"/book\">   -->\r\n          <OrderCart @calculate=\"calculate\" :bookName=\"item.name\" :bookAuthor=\"item.author\" bookSubject=\"English\" bookGenre=\"-\" :bookDate=\"item.publicationYear\" :bookImageURL=\"item.url\" bookQuantity=\"0\" :bookPrice=\"item.price\" :id=\"this.userID\" :bookID=\"item.id\"/>\r\n        <!-- </router-link> -->\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n   \r\n</div>\r\n<div class= \" h-96 w-px bg-gray-300 ml-4 mr-4\"></div>\r\n  <div class=\"w-2/6\">\r\n    <div class=\"  text-4xl font-bold font-calibri\" >Order Summary</div>\r\n      <div class=\"w-full bg-gray-300 h-px mt-5\"></div>\r\n        <div class =\"flex justify-between\">\r\n          <p class=\"pt-8\">ITEMS {{items}}</p>\r\n          <p class= \"pt-8\">{{cost}}</p>\r\n        </div>\r\n        <div class =\"flex justify-between\">\r\n          <p class=\"pt-8\">DISCOUNT </p>\r\n          <p class= \"pt-8 \">{{dis}}</p>\r\n        </div>\r\n        \r\n        <div class =\"flex justify-between\">\r\n          <p class=\"pt-8\">DELIVERY CHARGES</p>\r\n          <p class= \"pt-8\"> {{deliv * this.items}}</p>\r\n        </div>\r\n        <div class =\"flex justify-between\">\r\n          <p class=\"pt-40 text-xl font-bold\">TOTAL COST</p>\r\n          <p class= \"pt-40 text-xl font-bold\">{{cost + deliv * this.items }}</p> \r\n        </div>\r\n        <div class=\"flex justify-center pt-6\">\r\n          <!-- <router-link to=\"404\"> -->\r\n            <!-- BOOKMARK -> Paywall will go here -->\r\n          <button class=\"bg-secondary-1 hover:bg-primary-1 hover:text-black text-white font-semibold text-xl h-10 pl-40 pr-40 tracking-widest \" @click=\"checkout\">CHECKOUT</button>\r\n          <!-- </router-link> -->\r\n        </div>    \r\n        <router-link to=\"/home\">\r\n        <div class=\"ml-18 mt-8 flex \" @click=\"true\">\r\n          <div class=\"flex py-2 items-center  text-sm text-black rounded-md text-center cursor-pointer fill-current hover:text-secondary-1 font-sm\">\r\n            <svg class=\"w-6 \" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 400.004 400.004\" style=\"enable-background:new 0 0 400.004 400.004;\" xml:space=\"preserve\">\r\n              <g>\r\n                <path  d=\"M382.688,182.686H59.116l77.209-77.214c6.764-6.76,6.764-17.726,0-24.485c-6.764-6.764-17.73-6.764-24.484,0L5.073,187.757\r\n\t            \tc-6.764,6.76-6.764,17.727,0,24.485l106.768,106.775c3.381,3.383,7.812,5.072,12.242,5.072c4.43,0,8.861-1.689,12.242-5.072\r\n\t            \tc6.764-6.76,6.764-17.726,0-24.484l-77.209-77.218h323.572c9.562,0,17.316-7.753,17.316-17.315\r\n               \tC400.004,190.438,392.251,182.686,382.688,182.686z\"/>\r\n              </g>\r\n            </svg>      \r\n            \r\n            <div class = \"pl-2 text-xl\"  @click=\"true\">Continue Shopping</div>\r\n          </div>\r\n        </div> \r\n        </router-link>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}