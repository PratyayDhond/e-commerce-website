{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"relative\"\n};\nconst _hoisted_2 = {\n  class: \"\"\n};\nconst _hoisted_3 = {\n  class: \"mt-24 mx-40\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-3xl font-semibold text-gray-700 mb-5\"\n}, \"Your WishList\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n\n  const _component_WishBooks = _resolveComponent(\"WishBooks\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_Header, {\n    userID: $data.id,\n    class: \"fixed z-10 w-full top-0\"\n  }, null, 8\n  /* PROPS */\n  , [\"userID\"])]), _createCommentVNode(\" WishList \"), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.books, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.id\n    }, [_createElementVNode(\"div\", null, [_createCommentVNode(\" <router-link to=\\\"/book\\\" > \"), _createVNode(_component_WishBooks, {\n      bookName: item.name,\n      bookPrice: item.price,\n      bookImageURL: item.url,\n      bookYear: item.publicationYear,\n      bookGenre: item.bookGenre,\n      bookAuthor: item.author\n    }, null, 8\n    /* PROPS */\n    , [\"bookName\", \"bookPrice\", \"bookImageURL\", \"bookYear\", \"bookGenre\", \"bookAuthor\"]), _createCommentVNode(\" </router-link> \")])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]);\n}","map":{"version":3,"mappings":";;EA0ISA,KAAK,EAAC;;;EAEFA,KAAK,EAAC;;;EAKNA,KAAK,EAAC;;;gCACPC,oBAA0E,KAA1E,EAA0E;EAArED,KAAK,EAAC;AAA+D,CAA1E,EAAuD,eAAvD,EAAoE;AAAA;AAApE;;;;;;;uBARRE,oBAqBM,KArBN,cAqBM,CApBFC,+BAoBE,EAnBFF,oBAEM,KAFN,cAEM,CADFG,aAAuDC,iBAAvD,EAAuD;IAA9CC,MAAM,EAAEC,QAAsC;IAAlCP,KAAK,EAAC;EAA4B,CAAvD;;EAAA,aACE,CAFN,CAmBE,EAfFG,iCAeE,EAdFF,oBAWM,KAXN,cAWM,CAVFO,UAUE,qBATFN,oBAQMO,SARN,EAQM,IARN,EAQMC,YARcH,WAQd,EARMI,IAAa,IAAT;yBAAhBT,oBAQM,KARN,EAQM;MARsBU,GAAG,EAAED,IAAI,CAACE;IAQhC,CARN,GAEIZ,oBAIK,KAJL,EAIK,IAJL,EAIK,CAHLE,oDAGK,EAFDC,aAA0KU,oBAA1K,EAA0K;MAA9JC,QAAQ,EAAEJ,IAAI,CAACK,IAA+I;MAAxIC,SAAS,EAAEN,IAAI,CAACO,KAAwH;MAAhHC,YAAY,EAAER,IAAI,CAACS,GAA6F;MAAvFC,QAAQ,EAAEV,IAAI,CAACW,eAAwE;MAAtDC,SAAS,EAAEZ,IAAI,CAACY,SAAsC;MAA1BC,UAAU,EAAEb,IAAI,CAACc;IAAS,CAA1K;;IAAA,mFAEC,EADLtB,uCACK,CAJL,EAFJ;GAQM,CARN;;EAAA,CASE,EAXN,CAcE,CArBN","names":["class","_createElementVNode","_createElementBlock","_createCommentVNode","_createVNode","_component_Header","userID","$data","_hoisted_4","_Fragment","_renderList","item","key","id","_component_WishBooks","bookName","name","bookPrice","price","bookImageURL","url","bookYear","publicationYear","bookGenre","bookAuthor","author"],"sourceRoot":"","sources":["D:\\coding\\e-commerce-website\\src\\views\\WishList\\WishList.vue"],"sourcesContent":["<script>\r\nimport Header from '../../components/Header/Header.vue';\r\nimport Filter from '../../components/Filter/Filter.vue';\r\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\r\nimport ResultBook from '../../components/Search/ResultBook.vue';\r\nimport BookCoverCat from '../../components/HomePage/BookCoverCat.vue';\r\nimport OrderHistory from '../../components/User/OrderHistoryView/OrderHistory.vue';\r\nimport OrderDetails from '../../components/User/OrderDetailsView/OrderDetails.vue';\r\nimport WishBooks from '../../components/WishList/WishBooks.vue';\r\nimport firebase from 'firebase/compat/app';\r\nexport default{\r\n    data(){\r\n        return{\r\n            wishlistBooks:[\r\n                {   \r\n                    bookName:\"Gitanjali\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\",\r\n                    bookYear: \"1910\",\r\n                    bookGenre: \"Poem\",\r\n                    bookAuthor:\"Rabindranath Tagore\",\r\n                },\r\n                {   \r\n                    bookName:\"Ikigai\",\r\n                    bookPrice:\"520\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\",\r\n                    bookYear: \"2001\",\r\n                    bookGenre: \"Self-Help\",\r\n                    bookAuthor:\"Priyanshu Lapkale\",\r\n                },{   \r\n                    bookName:\"A Thousand Splendid Suns\",\r\n                    bookPrice:\"320\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\",\r\n                    bookYear: \"1920\",\r\n                    bookGenre: \"Thrill\",\r\n                    bookAuthor:\"Khaled Houssein\",\r\n                },\r\n            ],\r\n            id: this.$route.query.id,\r\n            books: []\r\n        }\r\n    },\r\n    created(){\r\n          const db = firebase.firestore(); \r\n        console.log(\"Inside created() method of Wishlist\")\r\n        try{\r\n          db.collection('Users').doc(this.id).get().then((r) => {\r\n            console.log(r.data());\r\n            var arr = r.data().wishList;\r\n            console.log(arr);\r\n            for(let i = 0; i < arr.length; i++){\r\n              db.collection('books').doc(arr[i]).get().then((book) => {\r\n                this.books.push(book.data())\r\n              })\r\n            }\r\n            console.log('Wishlist books array')\r\n              console.log(this.books)\r\n          }); \r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n    },\r\n    components:{\r\n    Header,\r\n    Filter,\r\n    LatestBooks,\r\n    ResultBook,\r\n    BookCoverCat,\r\n    // Sidebar,\r\n    OrderHistory,\r\n    OrderDetails,\r\n    WishBooks\r\n},\r\nmethods: { addToCart(){\r\n            const db = firebase.firestore(); \r\n        console.log(\"Inside addToCart() method\")\r\n        try{\r\n        db.collection('Users').doc(this.userID).get().then((r) => {\r\n            var addr1 = r.data().addrLine1\r\n            var addr2 = r.data().addrLine2\r\n            var mobile = r.data().mobile\r\n            var city = r.data().city\r\n            var landmark = r.data().landmark\r\n            var name = r.data().name\r\n            var state = r.data().state\r\n            var zipcode = r.data().zipcode\r\n            var cart = r.data().cart\r\n            var wishlist = r.data().wishList\r\n            var orders = r.data().orders\r\n\r\n            // console.log(r.data())\r\n\r\n            cart.push(this.id)\r\n            \r\n            //Removing null element if any from the array\r\n            var filtered = cart.filter(function (el) {\r\n            return el != '';\r\n            });\r\n\r\n            // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\r\n            //Removing duplicate elements if any from the array \r\n            let uniqueCart = filtered.filter((element, index) => {\r\n                return filtered.indexOf(element) === index;\r\n            });\r\n\r\n           cart = null;\r\n           cart = uniqueCart;\r\n        //    console.log(this.cart)\r\n        //    console.log(uniqueCart)\r\n\r\n            db.collection('Users').doc(this.userID).set({\r\n            addrLine1: addr1,\r\n            addrLine2: addr2,\r\n            cart: uniqueCart,\r\n            city: city,\r\n            landmark:landmark,\r\n            mobile: mobile,\r\n            name: name,\r\n            orders: orders,\r\n            state: state,\r\n            wishList: wishlist,\r\n            zipcode: zipcode\r\n        }).then((ref) => {\r\n        });\r\n        console.log('Data written successfully')\r\n            // alert(\"Item added to cart successfully.\") \r\n        });\r\n\r\n            alert('Item added to cart successfully')\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n            \r\n        },}\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"relative\" >\r\n        <!-- Header -->\r\n        <div class=\"\">\r\n            <Header :userID=\"id\" class=\"fixed z-10 w-full top-0\" />\r\n        </div>\r\n        \r\n        <!-- WishList -->\r\n        <div class=\"mt-24 mx-40\">\r\n            <div class=\"text-3xl font-semibold text-gray-700 mb-5\">Your WishList</div>\r\n            <div v-for=\"item in books\" :key=\"item.id\">\r\n                     \r\n                <div>\r\n                <!-- <router-link to=\"/book\" > -->\r\n                    <WishBooks :bookName=\"item.name\" :bookPrice=\"item.price\" :bookImageURL=\"item.url\" :bookYear=\"item.publicationYear\" :bookGenre=\"item.bookGenre\" :bookAuthor=\"item.author\"/>\r\n                <!-- </router-link> -->\r\n               </div>\r\n                                    \r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n    \r\n        \r\n</template>\r\n\r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}