{"ast":null,"code":"import Header from '../../components/Header/Header.vue';\nimport Filter from '../../components/Filter/Filter.vue';\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\nimport ResultBook from '../../components/Search/ResultBook.vue';\nimport BookCoverCat from '../../components/HomePage/BookCoverCat.vue';\nimport OrderHistory from '../../components/User/OrderHistoryView/OrderHistory.vue';\nimport OrderDetails from '../../components/User/OrderDetailsView/OrderDetails.vue';\nimport WishBooks from '../../components/WishList/WishBooks.vue';\nimport firebase from 'firebase/compat/app';\nexport default {\n  data() {\n    return {\n      wishlistBooks: [{\n        bookName: \"Gitanjali\",\n        bookPrice: \"1300\",\n        bookImageURL: \"https://picsum.photos/200/300\",\n        bookYear: \"1910\",\n        bookGenre: \"Poem\",\n        bookAuthor: \"Rabindranath Tagore\"\n      }, {\n        bookName: \"Ikigai\",\n        bookPrice: \"520\",\n        bookImageURL: \"https://picsum.photos/200/300\",\n        bookYear: \"2001\",\n        bookGenre: \"Self-Help\",\n        bookAuthor: \"Priyanshu Lapkale\"\n      }, {\n        bookName: \"A Thousand Splendid Suns\",\n        bookPrice: \"320\",\n        bookImageURL: \"https://picsum.photos/200/300\",\n        bookYear: \"1920\",\n        bookGenre: \"Thrill\",\n        bookAuthor: \"Khaled Houssein\"\n      }],\n      id: this.$route.query.id,\n      books: []\n    };\n  },\n\n  created() {\n    const db = firebase.firestore();\n    console.log(\"Inside created() method of Wishlist\");\n\n    try {\n      db.collection('Users').doc(this.id).get().then(r => {\n        console.log(r.data());\n        var arr = r.data().wishList;\n        console.log(arr);\n\n        for (let i = 0; i < arr.length; i++) {\n          db.collection('books').doc(arr[i]).get().then(book => {\n            this.books.push(book.data());\n          });\n        }\n\n        console.log('Wishlist books array');\n        console.log(this.books);\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  },\n\n  components: {\n    Header,\n    Filter,\n    LatestBooks,\n    ResultBook,\n    BookCoverCat,\n    // Sidebar,\n    OrderHistory,\n    OrderDetails,\n    WishBooks\n  },\n  methods: {\n    addToCart() {\n      const db = firebase.firestore();\n      console.log(\"Inside addToCart() method\");\n\n      try {\n        db.collection('Users').doc(this.userID).get().then(r => {\n          var addr1 = r.data().addrLine1;\n          var addr2 = r.data().addrLine2;\n          var mobile = r.data().mobile;\n          var city = r.data().city;\n          var landmark = r.data().landmark;\n          var name = r.data().name;\n          var state = r.data().state;\n          var zipcode = r.data().zipcode;\n          var cart = r.data().cart;\n          var wishlist = r.data().wishList;\n          var orders = r.data().orders; // console.log(r.data())\n\n          cart.push(this.id); //Removing null element if any from the array\n\n          var filtered = cart.filter(function (el) {\n            return el != '';\n          }); // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\n          //Removing duplicate elements if any from the array \n\n          let uniqueCart = filtered.filter((element, index) => {\n            return filtered.indexOf(element) === index;\n          });\n          cart = null;\n          cart = uniqueCart; //    console.log(this.cart)\n          //    console.log(uniqueCart)\n\n          db.collection('Users').doc(this.userID).set({\n            addrLine1: addr1,\n            addrLine2: addr2,\n            cart: uniqueCart,\n            city: city,\n            landmark: landmark,\n            mobile: mobile,\n            name: name,\n            orders: orders,\n            state: state,\n            wishList: wishlist,\n            zipcode: zipcode\n          }).then(ref => {});\n          console.log('Data written successfully'); // alert(\"Item added to cart successfully.\") \n        });\n        alert('Item added to cart successfully');\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["Header","Filter","LatestBooks","ResultBook","BookCoverCat","OrderHistory","OrderDetails","WishBooks","firebase","data","wishlistBooks","bookName","bookPrice","bookImageURL","bookYear","bookGenre","bookAuthor","id","$route","query","books","created","db","firestore","console","log","collection","doc","get","then","r","arr","wishList","i","length","book","push","e","components","methods","addToCart","userID","addr1","addrLine1","addr2","addrLine2","mobile","city","landmark","name","state","zipcode","cart","wishlist","orders","filtered","filter","el","uniqueCart","element","index","indexOf","set","ref","alert"],"sourceRoot":"","sources":["D:\\coding\\e-commerce-website\\src\\views\\WishList\\WishList.vue"],"sourcesContent":["<script>\r\nimport Header from '../../components/Header/Header.vue';\r\nimport Filter from '../../components/Filter/Filter.vue';\r\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\r\nimport ResultBook from '../../components/Search/ResultBook.vue';\r\nimport BookCoverCat from '../../components/HomePage/BookCoverCat.vue';\r\nimport OrderHistory from '../../components/User/OrderHistoryView/OrderHistory.vue';\r\nimport OrderDetails from '../../components/User/OrderDetailsView/OrderDetails.vue';\r\nimport WishBooks from '../../components/WishList/WishBooks.vue';\r\nimport firebase from 'firebase/compat/app';\r\nexport default{\r\n    data(){\r\n        return{\r\n            wishlistBooks:[\r\n                {   \r\n                    bookName:\"Gitanjali\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\",\r\n                    bookYear: \"1910\",\r\n                    bookGenre: \"Poem\",\r\n                    bookAuthor:\"Rabindranath Tagore\",\r\n                },\r\n                {   \r\n                    bookName:\"Ikigai\",\r\n                    bookPrice:\"520\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\",\r\n                    bookYear: \"2001\",\r\n                    bookGenre: \"Self-Help\",\r\n                    bookAuthor:\"Priyanshu Lapkale\",\r\n                },{   \r\n                    bookName:\"A Thousand Splendid Suns\",\r\n                    bookPrice:\"320\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\",\r\n                    bookYear: \"1920\",\r\n                    bookGenre: \"Thrill\",\r\n                    bookAuthor:\"Khaled Houssein\",\r\n                },\r\n            ],\r\n            id: this.$route.query.id,\r\n            books: []\r\n        }\r\n    },\r\n    created(){\r\n          const db = firebase.firestore(); \r\n        console.log(\"Inside created() method of Wishlist\")\r\n        try{\r\n          db.collection('Users').doc(this.id).get().then((r) => {\r\n            console.log(r.data());\r\n            var arr = r.data().wishList;\r\n            console.log(arr);\r\n            for(let i = 0; i < arr.length; i++){\r\n              db.collection('books').doc(arr[i]).get().then((book) => {\r\n                this.books.push(book.data())\r\n              })\r\n            }\r\n            console.log('Wishlist books array')\r\n              console.log(this.books)\r\n          }); \r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n    },\r\n    components:{\r\n    Header,\r\n    Filter,\r\n    LatestBooks,\r\n    ResultBook,\r\n    BookCoverCat,\r\n    // Sidebar,\r\n    OrderHistory,\r\n    OrderDetails,\r\n    WishBooks\r\n},\r\nmethods: { addToCart(){\r\n            const db = firebase.firestore(); \r\n        console.log(\"Inside addToCart() method\")\r\n        try{\r\n        db.collection('Users').doc(this.userID).get().then((r) => {\r\n            var addr1 = r.data().addrLine1\r\n            var addr2 = r.data().addrLine2\r\n            var mobile = r.data().mobile\r\n            var city = r.data().city\r\n            var landmark = r.data().landmark\r\n            var name = r.data().name\r\n            var state = r.data().state\r\n            var zipcode = r.data().zipcode\r\n            var cart = r.data().cart\r\n            var wishlist = r.data().wishList\r\n            var orders = r.data().orders\r\n\r\n            // console.log(r.data())\r\n\r\n            cart.push(this.id)\r\n            \r\n            //Removing null element if any from the array\r\n            var filtered = cart.filter(function (el) {\r\n            return el != '';\r\n            });\r\n\r\n            // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\r\n            //Removing duplicate elements if any from the array \r\n            let uniqueCart = filtered.filter((element, index) => {\r\n                return filtered.indexOf(element) === index;\r\n            });\r\n\r\n           cart = null;\r\n           cart = uniqueCart;\r\n        //    console.log(this.cart)\r\n        //    console.log(uniqueCart)\r\n\r\n            db.collection('Users').doc(this.userID).set({\r\n            addrLine1: addr1,\r\n            addrLine2: addr2,\r\n            cart: uniqueCart,\r\n            city: city,\r\n            landmark:landmark,\r\n            mobile: mobile,\r\n            name: name,\r\n            orders: orders,\r\n            state: state,\r\n            wishList: wishlist,\r\n            zipcode: zipcode\r\n        }).then((ref) => {\r\n        });\r\n        console.log('Data written successfully')\r\n            // alert(\"Item added to cart successfully.\") \r\n        });\r\n\r\n            alert('Item added to cart successfully')\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n            \r\n        },}\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"relative\" >\r\n        <!-- Header -->\r\n        <div class=\"\">\r\n            <Header :userID=\"id\" class=\"fixed z-10 w-full top-0\" />\r\n        </div>\r\n        \r\n        <!-- WishList -->\r\n        <div class=\"mt-24 mx-40\">\r\n            <div class=\"text-3xl font-semibold text-gray-700 mb-5\">Your WishList</div>\r\n            <div v-for=\"item in books\" :key=\"item.id\">\r\n                     \r\n                <div>\r\n                <!-- <router-link to=\"/book\" > -->\r\n                    <WishBooks :bookName=\"item.name\" :bookPrice=\"item.price\" :bookImageURL=\"item.url\" :bookYear=\"item.publicationYear\" :bookGenre=\"item.bookGenre\" :bookAuthor=\"item.author\"/>\r\n                <!-- </router-link> -->\r\n               </div>\r\n                                    \r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n    \r\n        \r\n</template>\r\n\r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}