{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"w-6/6 border-2 h-40\"\n};\nconst _hoisted_3 = {\n  class: \"flex\"\n};\nconst _hoisted_4 = {\n  class: \"flex w-1/6\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"w-2/6\"\n};\nconst _hoisted_7 = {\n  class: \"mt-2 ml-2 font-bold text-gray-800 text-md cursor-pointer hover:text-secondary-1\"\n};\nconst _hoisted_8 = {\n  class: \"mt-2 ml-2 text-black-400 text-sm cursor-pointer\"\n};\nconst _hoisted_9 = {\n  class: \"mt-2 ml-2 text-black-400 text-sm cursor-pointer\"\n};\nconst _hoisted_10 = {\n  class: \"mt-2 ml-2 text-black-400 text-sm cursor-pointer\"\n};\nconst _hoisted_11 = {\n  class: \"mt-2 ml-2 text-black-400 text-sm cursor-pointer\"\n};\nconst _hoisted_12 = {\n  class: \"flex flex-col items-end justify-evenly mt-5\"\n};\nconst _hoisted_13 = {\n  class: \"flex items-center\"\n};\nconst _hoisted_14 = {\n  class: \"flex w-28\"\n};\nconst _hoisted_15 = {\n  class: \"py-1 h-8 w-20 border-2 text-sm text-center font-medium\"\n};\nconst _hoisted_16 = {\n  class: \"ml-[70px] font-bold text-gray-800 text-md\"\n};\nconst _hoisted_17 = {\n  class: \"ml-24 font-bold text-gray-800 text-md\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" <router-link :to=\\\"query\\\"> \"), _createElementVNode(\"img\", {\n    class: \"h-36 object-fill border-none w-28\",\n    src: $props.bookImageURL,\n    alt: \"\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_5), _createCommentVNode(\" </router-link> \")]), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" <router-link :to=\\\"query\\\"> \"), _createElementVNode(\"div\", _hoisted_7, _toDisplayString($props.bookName), 1\n  /* TEXT */\n  ), _createCommentVNode(\" </router-link>  \"), _createElementVNode(\"p\", _hoisted_8, \"author: \" + _toDisplayString($props.bookAuthor), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", _hoisted_9, \"subject: \" + _toDisplayString($props.bookSubject), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", _hoisted_10, \"genre:\" + _toDisplayString($props.bookGenre), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", _hoisted_11, \"publication date:\" + _toDisplayString($props.bookDate), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", {\n    class: \"py-1 h-8 w-8 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.decrement())\n  }, \"-\"), _createElementVNode(\"div\", _hoisted_15, _toDisplayString($data.quantity), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", {\n    class: \"py-1 h-8 w-8 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.increment())\n  }, \"+\")]), _createElementVNode(\"div\", _hoisted_16, \"₹\" + _toDisplayString(this.price), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_17, \"₹\" + _toDisplayString($data.total), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", {\n    class: \"py-2 w-36 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.removeFromCart && $options.removeFromCart(...args))\n  }, \" Remove from Cart \")])])])])]);\n}","map":{"version":3,"mappings":";;EA4GKA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACHA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;;EAKTA,KAAK,EAAC;;;EAEFA,KAAK,EAAC;;;EAERA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EAERA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EAEFA,KAAK,EAAC;;;EAIVA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;uBA1B3BC,oBAoCM,KApCN,cAoCM,CAnCFC,oBAkCE,KAlCF,cAkCE,CAjCCA,oBAgCG,KAhCH,cAgCG,CA/BCA,oBAIO,KAJP,cAIO,CAHLC,oDAGK,EAFFD,oBAA0E,KAA1E,EAA0E;IAArEF,KAAK,EAAC,mCAA+D;IAA1BI,GAAG,EAAEC,mBAAqB;IAAPC,GAAG,EAAC;EAAG,CAA1E;;EAAA,aAEE,EADNH,uCACM,CAJP,CA+BD,EA1BFD,oBAQM,KARN,cAQM,CAPFC,oDAOE,EANFD,oBAAiH,KAAjH,cAAiHK,iBAAjBF,eAAiB,CAAjH,EAAwG;EAAA;EAAxG,CAME,EALFF,wCAKE,EAJFD,oBAAyF,GAAzF,cAA6D,aAAQK,iBAAGF,iBAAH,CAArE,EAAkF;EAAA;EAAlF,CAIE,EAHFH,oBAA2F,GAA3F,cAA6D,cAASK,iBAAGF,kBAAH,CAAtE,EAAoF;EAAA;EAApF,CAGE,EAFFH,oBAAsF,GAAtF,eAA6D,WAAMK,iBAAGF,gBAAH,CAAnE,EAA+E;EAAA;EAA/E,CAEE,EADFH,oBAAgG,GAAhG,eAA6D,sBAAiBK,iBAAGF,eAAH,CAA9E,EAAyF;EAAA;EAAzF,CACE,CARN,CA0BE,EAjBFH,oBAgBM,KAhBN,eAgBM,CAfFA,oBASM,KATN,eASM,CARFA,oBAKM,KALN,eAKM,CAJFA,oBAAiL,KAAjL,EAAiL;IAA5KF,KAAK,EAAC,yIAAsK;IAA3BQ,OAAK,sCAAEC,oBAAF;EAAsB,CAAjL,EAA0K,GAA1K,CAIE,EAHFP,oBACsB,KADtB,eACsBK,iBAAhBG,cAAgB,CADtB,EACc;EAAA;EADd,CAGE,EADFR,oBAAiL,KAAjL,EAAiL;IAA5KF,KAAK,EAAC,yIAAsK;IAA3BQ,OAAK,sCAAEC,oBAAF;EAAsB,CAAjL,EAA0K,GAA1K,CACE,CALN,CAQE,EAFFP,oBAA8E,KAA9E,eAAyD,MAACK,sBAAOI,KAAP,CAA1D,EAAsE;EAAA;EAAtE,CAEE,EADFT,oBAAqE,KAArE,eAAqD,MAACK,iBAAEG,WAAF,CAAtD,EAA6D;EAAA;EAA7D,CACE,CATN,CAeE,EALFR,oBAIM,KAJN,EAIM,IAJN,EAIM,CAHFA,oBAEc,KAFd,EAEc;IAFTF,KAAK,EAAC,sIAEG;IAFqIQ,OAAK,yCAAEC,2DAAF;EAE1I,CAFd,EAA0K,oBAA1K,CAGE,CAJN,CAKE,CAhBN,CAiBE,CAhCH,CAiCD,CAlCF,CAmCE,CApCN","names":["class","_createElementBlock","_createElementVNode","_createCommentVNode","src","$props","alt","_toDisplayString","onClick","$options","$data","price"],"sourceRoot":"","sources":["W:\\Coding\\finalProject\\e-commerce-website\\src\\components\\Search\\OrderCart.vue"],"sourcesContent":["<script>\r\nimport firebase from 'firebase/compat/app';\r\nexport default{\r\n    data(){\r\n        return{\r\n            total: 0,\r\n            // Use book ID here\r\n            // query: `{name: 'book', query:{id:this.bookID}}`\r\n            query: '/book',\r\n            id: this.$route.query.id,\r\n            quantity: parseInt(this.bookQuantity),\r\n            price: parseInt(this.bookPrice),\r\n            total: parseInt(this.bookPrice)*parseInt(this.bookQuantity),\r\n        }\r\n    },\r\n    emits: [\"updateCart\"],\r\n    props:[\"updateCart\",\"bookName\",\"bookAuthor\",\"bookSubject\",\"bookGenre\",\"bookDate\",\"bookImageURL\", \"bookPrice\", \"bookID\", \"bookQuantity\"],\r\n    methods:\r\n    {\r\n        totalPrice()\r\n        {\r\n            this.total= this.price*this.quantity\r\n        },\r\n        increment(){\r\n            this.quantity++;\r\n            // console.log(this.quantity)\r\n            this.totalPrice()\r\n            this.$emit(\"calculate\",this.price,1,this.bookID);\r\n        },\r\n        decrement(){\r\n            if(this.quantity > 0){\r\n            this.quantity--;\r\n            this.totalPrice()\r\n            this.$emit(\"calculate\",-this.price,-1,this.bookID)\r\n            }\r\n        },\r\n        removeFromCart(){\r\n            console.log(this.id)\r\n             const db = firebase.firestore(); \r\n        console.log(\"Inside removeFromWishList() method\")\r\n        try{\r\n        db.collection('Users').doc(this.id).get().then((r) => {\r\n            console.log(r.data())\r\n            var addr1 = r.data().addrLine1\r\n            var addr2 = r.data().addrLine2\r\n            var mobile = r.data().mobile\r\n            var city = r.data().city\r\n            var landmark = r.data().landmark\r\n            var name = r.data().name\r\n            var state = r.data().state\r\n            var zipcode = r.data().zipcode\r\n            var cart = r.data().cart || []\r\n            var wishlist = r.data().wishList || []\r\n            var orders = r.data().orders || []\r\n            var email = r.data().email\r\n            // var pfp = r.data().pfp\r\n\r\n        // console.log(r.data());\r\n            // console.log(r.data())\r\n            // console.log(wishlist)\r\n            // wishlist.pop(this.id)\r\n            let remove = []\r\n            remove = cart.filter((id) => id !== this.bookID)\r\n            console.log(this.bookID)\r\n            console.log(cart)\r\n            console.log(\"removed array \" +remove)\r\n            \r\n            this.$emit(\"updateCart\",remove)\r\n\r\n            db.collection('Users').doc(this.id).set({\r\n            addrLine1: addr1,\r\n            addrLine2: addr2,\r\n            cart: remove,\r\n            city: city,\r\n            landmark:landmark,\r\n            mobile: mobile,\r\n            name: name,\r\n            orders: orders,\r\n            state: state,\r\n            wishList: wishlist,\r\n            zipcode: zipcode,\r\n            email: email,\r\n            // pfp: pfp\r\n        }).then((ref) => {\r\n            // this.$router.go()\r\n            console.log(remove);\r\n        });\r\n            \r\n        console.log('Data updated successfully')\r\n        // alert('Item removed from wishlist successfully')\r\n            // alert(\"Item added to cart successfully.\") \r\n        });\r\n\r\n            \r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n        \r\n        }\r\n    },\r\n    mounted(){\r\n            \r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<template>\r\n<div class=\"mt-4\">\r\n    <div class=\"w-6/6 border-2 h-40\">\r\n       <div class=\"flex\">\r\n           <div class=\" flex w-1/6\">\r\n             <!-- <router-link :to=\"query\"> -->\r\n                <img class=\"h-36 object-fill border-none w-28\" :src=\"bookImageURL\" alt=\"\">\r\n            <!-- </router-link> -->\r\n            </div>\r\n        <div class=\" w-2/6\">\r\n            <!-- <router-link :to=\"query\"> -->\r\n            <div class=\"mt-2 ml-2 font-bold text-gray-800 text-md cursor-pointer hover:text-secondary-1\">{{ bookName }}</div> \r\n            <!-- </router-link>  -->\r\n            <p class=\"mt-2 ml-2  text-black-400 text-sm cursor-pointer \">author: {{ bookAuthor }}</p> \r\n            <p class=\"mt-2 ml-2  text-black-400 text-sm cursor-pointer \">subject: {{ bookSubject }}</p> \r\n            <p class=\"mt-2 ml-2  text-black-400 text-sm cursor-pointer \">genre:{{ bookGenre }}</p> \r\n            <p class=\"mt-2 ml-2  text-black-400 text-sm cursor-pointer \">publication date:{{ bookDate }}</p>     \r\n        </div>\r\n        <div class=\"flex flex-col items-end justify-evenly mt-5\">\r\n            <div class=\"flex items-center\">\r\n                <div class=\"flex w-28\">\r\n                    <div class=\"py-1 h-8 w-8 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\" @click=\"decrement()\">-</div>\r\n                    <div class=\"py-1 h-8 w-20 border-2 text-sm text-center  font-medium\">\r\n                        {{quantity}}</div>\r\n                    <div class=\"py-1 h-8 w-8 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\" @click=\"increment()\">+</div>                    \r\n                </div>\r\n                <div class=\"ml-[70px] font-bold text-gray-800 text-md  \">₹{{this.price}}</div> \r\n                <div class=\"ml-24 font-bold text-gray-800 text-md  \">₹{{total}}</div>\r\n            </div>\r\n            <div>\r\n                <div class=\"py-2 w-36 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\" @click=\"removeFromCart\">\r\n                            Remove from Cart\r\n                        </div> \r\n            </div>\r\n        </div>         \r\n    </div>\r\n</div>\r\n</div>\r\n \r\n</template>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}