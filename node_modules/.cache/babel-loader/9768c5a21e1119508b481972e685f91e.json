{"ast":null,"code":"export default {\n  props: [\"bookName\", \"bookDate\", \"bookLanguage\", \"bookCover\", \"bookPrice\", \"bookImageURL\", \"id\", \"userID\"],\n  methods: {\n    addToCart() {\n      const db = firebase.firestore();\n      console.log(\"Inside addToCart() method\");\n\n      try {\n        db.collection('Users').doc(this.userID).get().then(r => {\n          var addr1 = r.data().addrLine1;\n          var addr2 = r.data().addrLine2;\n          var mobile = r.data().mobile;\n          var city = r.data().city;\n          var landmark = r.data().landmark;\n          var name = r.data().name;\n          var state = r.data().state;\n          var zipcode = r.data().zipcode;\n          var cart = r.data().cart;\n          var wishlist = r.data().wishList;\n          var orders = r.data().orders;\n          var email = r.data().email;\n          var pfp = r.data().pfp; // console.log(r.data())\n\n          cart.push(this.id); //Removing null element if any from the array\n\n          var filtered = cart.filter(function (el) {\n            return el != '';\n          }); // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\n          //Removing duplicate elements if any from the array \n\n          let uniqueCart = filtered.filter((element, index) => {\n            return filtered.indexOf(element) === index;\n          });\n          cart = null;\n          cart = uniqueCart; //    console.log(this.cart)\n          //    console.log(uniqueCart)\n\n          db.collection('Users').doc(this.userID).set({\n            addrLine1: addr1,\n            addrLine2: addr2,\n            cart: uniqueCart,\n            city: city,\n            landmark: landmark,\n            mobile: mobile,\n            name: name,\n            orders: orders,\n            state: state,\n            wishList: wishlist,\n            zipcode: zipcode,\n            email: email,\n            pfp: pfp\n          }).then(ref => {});\n          console.log('Data written successfully'); // alert(\"Item added to cart successfully.\") \n        });\n        alert('Item added to cart successfully');\n      } catch (e) {\n        console.log(e);\n      }\n    },\n\n    addToWishlist() {\n      const db = firebase.firestore();\n      console.log(\"Inside addToCart() method\");\n\n      try {\n        db.collection('Users').doc(this.userID).get().then(r => {\n          var addr1 = r.data().addrLine1;\n          var addr2 = r.data().addrLine2;\n          var mobile = r.data().mobile;\n          var city = r.data().city;\n          var landmark = r.data().landmark;\n          var name = r.data().name;\n          var state = r.data().state;\n          var zipcode = r.data().zipcode;\n          var cart = r.data().cart;\n          var wishlist = r.data().wishList;\n          var orders = r.data().orders;\n          var email = r.data().email;\n          var pfp = r.data().pfp;\n          console.log(r.data());\n          console.log(wishlist);\n          wishlist.push(this.id); //Removing null element if any from the array\n\n          var filtered = wishlist.filter(function (el) {\n            return el != '';\n          }); // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\n          //Removing duplicate elements if any from the array \n\n          let uniqueWish = filtered.filter((element, index) => {\n            return filtered.indexOf(element) === index;\n          });\n          wishlist = null;\n          wishlist = uniqueWish; //    console.log(this.data())\n\n          console.log(uniqueWish); //    console.log(this.cart)\n          //    console.log(uniqueCart)\n\n          db.collection('Users').doc(this.userID).set({\n            addrLine1: addr1,\n            addrLine2: addr2,\n            cart: cart,\n            city: city,\n            landmark: landmark,\n            mobile: mobile,\n            name: name,\n            orders: orders,\n            state: state,\n            wishList: uniqueWish,\n            zipcode: zipcode,\n            email: email,\n            pfp: pfp\n          }).then(ref => {});\n          console.log('Data written successfully');\n          alert('Item added to wishlist successfully'); // alert(\"Item added to cart successfully.\") \n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["props","methods","addToCart","db","firebase","firestore","console","log","collection","doc","userID","get","then","r","addr1","data","addrLine1","addr2","addrLine2","mobile","city","landmark","name","state","zipcode","cart","wishlist","wishList","orders","email","pfp","push","id","filtered","filter","el","uniqueCart","element","index","indexOf","set","ref","alert","e","addToWishlist","uniqueWish"],"sourceRoot":"","sources":["D:\\coding\\e-commerce-website\\src\\components\\Search\\ResultBook.vue"],"sourcesContent":["<script>\nexport default{\n    props:[\"bookName\",\"bookDate\",\"bookLanguage\",\"bookCover\",\"bookPrice\",\"bookImageURL\",\"id\",\"userID\"],\n    methods:{\n        addToCart(){\n            const db = firebase.firestore(); \n        console.log(\"Inside addToCart() method\")\n        try{\n        db.collection('Users').doc(this.userID).get().then((r) => {\n            var addr1 = r.data().addrLine1\n            var addr2 = r.data().addrLine2\n            var mobile = r.data().mobile\n            var city = r.data().city\n            var landmark = r.data().landmark\n            var name = r.data().name\n            var state = r.data().state\n            var zipcode = r.data().zipcode\n            var cart = r.data().cart\n            var wishlist = r.data().wishList\n            var orders = r.data().orders\n            var email = r.data().email\n            var pfp = r.data().pfp\n\n            // console.log(r.data())\n\n            cart.push(this.id)\n            \n            //Removing null element if any from the array\n            var filtered = cart.filter(function (el) {\n            return el != '';\n            });\n\n            // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\n            //Removing duplicate elements if any from the array \n            let uniqueCart = filtered.filter((element, index) => {\n                return filtered.indexOf(element) === index;\n            });\n\n           cart = null;\n           cart = uniqueCart;\n        //    console.log(this.cart)\n        //    console.log(uniqueCart)\n\n            db.collection('Users').doc(this.userID).set({\n            addrLine1: addr1,\n            addrLine2: addr2,\n            cart: uniqueCart,\n            city: city,\n            landmark:landmark,\n            mobile: mobile,\n            name: name,\n            orders: orders,\n            state: state,\n            wishList: wishlist,\n            zipcode: zipcode,\n            email: email,\n            pfp: pfp\n        }).then((ref) => {\n        });\n        console.log('Data written successfully')\n            // alert(\"Item added to cart successfully.\") \n        });\n\n            alert('Item added to cart successfully')\n        }catch(e){\n            console.log(e)\n        }\n            \n        },\n        addToWishlist(){\n             const db = firebase.firestore(); \n        console.log(\"Inside addToCart() method\")\n        try{\n        db.collection('Users').doc(this.userID).get().then((r) => {\n            var addr1 = r.data().addrLine1\n            var addr2 = r.data().addrLine2\n            var mobile = r.data().mobile\n            var city = r.data().city\n            var landmark = r.data().landmark\n            var name = r.data().name\n            var state = r.data().state\n            var zipcode = r.data().zipcode\n            var cart = r.data().cart\n            var wishlist = r.data().wishList\n            var orders = r.data().orders\n            var email = r.data().email\n            var pfp = r.data().pfp\n\n            console.log(r.data())\n            console.log(wishlist)\n            wishlist.push(this.id)\n            \n            //Removing null element if any from the array\n            var filtered = wishlist.filter(function (el) {\n            return el != '';\n            });\n\n            // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\n            //Removing duplicate elements if any from the array \n            let uniqueWish = filtered.filter((element, index) => {\n                return filtered.indexOf(element) === index;\n            });\n\n           wishlist = null;\n           wishlist= uniqueWish;\n        //    console.log(this.data())\n           console.log(uniqueWish);\n        //    console.log(this.cart)\n        //    console.log(uniqueCart)\n\n            db.collection('Users').doc(this.userID).set({\n            addrLine1: addr1,\n            addrLine2: addr2,\n            cart: cart,\n            city: city,\n            landmark:landmark,\n            mobile: mobile,\n            name: name,\n            orders: orders,\n            state: state,\n            wishList: uniqueWish,\n            zipcode: zipcode,\n            email: email,\n            pfp: pfp\n        }).then((ref) => {\n        });\n        console.log('Data written successfully')\n            alert('Item added to wishlist successfully')\n            // alert(\"Item added to cart successfully.\") \n        });\n\n        }catch(e){\n            console.log(e)\n        }\n            \n        }\n    },\n    \n}\n</script>\n\n<template>\n\n    <div class=\"flex flex-row mt-7 border-\" @click=\"handler\">\n        <div class=\"w-60 bg-black bg-opacity-5 border-\">\n            <router-link :to=\"{\n             path: '/book',\n             query: {\n              id:this.id,\n              userID: this.userID\n                 }\n              }\"> \n            <img class=\"h-60 object-contain border-none w-full\" :src=\"bookImageURL\" alt=\"\">\n            </router-link> \n        </div>\n        <div class=\"border-2 border-opacity-5 border-black w-full\">\n            <div class=\"flex flex-col items-start ml-10\">\n               <router-link :to=\"{\n             path: '/book',\n             query: {\n              id:this.id,\n              userID: this.userID\n                 }\n              }\"> \n               <div class=\"mt-7 font-bold text-gray-700 text-lg cursor-pointer hover:text-secondary-1\">{{ bookName }}</div>\n                </router-link>\n                <div class=\"text-gray-500\">{{ bookDate }}</div>\n                <div class=\"text-gray-500\">{{ bookLanguage }}</div>\n                <div class=\"text-gray-500\">{{ bookCover }}</div>\n                <div class=\"flex flex-row justify-between w-full mt-14 pr-10 item-center\">\n                    <div class=\" font-bold text-gray-700 text-xl\">â‚¹ {{bookPrice}}</div>\n                    <div class=\"flex items-center\">\n                        <div class=\"py-2 w-32 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\" @click=\"addToWishlist\">\n                            Add to Wishlist\n                        </div> \n                        <div class=\"ml-5 py-2 w-32 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\" @click=\"addToCart\">\n                            Add to Cart\n                        </div>\n                    </div>\n                </div>\n                \n            </div>\n        </div>\n\n    </div>\n\n</template>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}