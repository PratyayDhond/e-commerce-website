{"ast":null,"code":"import Header from '../../components/Header/Header.vue';\nimport Filter from '../../components/Filter/Filter.vue';\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\nimport ResultBook from '../../components/Search/ResultBook.vue';\nimport BookCoverCat from '../../components/HomePage/BookCoverCat.vue';\nimport Sidebar from '../../components/User/OrderHistoryView/Sidebar.vue';\nimport OrderHistory from '../../components/User/OrderHistoryView/OrderHistory.vue';\nimport firebase from 'firebase/compat/app';\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\nexport default {\n  data() {\n    return {\n      orderedHistory: [{\n        orderID: '46FA4F65A4F6A',\n        bookName: \"Gitanjali\",\n        bookPrice: \"1300\",\n        bookImageURL: \"https://picsum.photos/200/300\",\n        orderDate: \"2 April 2022\",\n        shipTo: \"Ajay sharma\",\n        bookYear: \"1910\",\n        bookGenre: \"Poem\",\n        bookAuthor: \"Rabindranath Tagore\",\n        bookDelivered: \"8 April 2022\"\n      }, {\n        orderID: '46FA4F65A4F6A',\n        bookName: \"A Thousand Splendid Suns\",\n        bookPrice: \"1300\",\n        bookImageURL: \"https://picsum.photos/200/300\",\n        orderDate: \"2 April 2022\",\n        shipTo: \"Ajay sharma\",\n        bookYear: \"1910\",\n        bookGenre: \"Poem\",\n        bookAuthor: \"Rabindranath Tagore\",\n        bookDelivered: \"8 April 2022\"\n      }],\n      id: this.$route.query.id,\n      orders: []\n    };\n  },\n\n  async created() {\n    var db = firebase.firestore();\n    this.orders = [];\n    const ordersRef = collection(db, 'Orders');\n    const q = query(ordersRef, where(\"orderCompleted\", \"==\", true));\n    const querySnapshot = await getDocs(q);\n    querySnapshot.forEach(doc => {\n      console.log(doc.data());\n    }); // db.collection('Users').doc(this.id).get()..then((r) =>{\n    //     console.log(r.data())\n    // }) \n  },\n\n  components: {\n    Header,\n    Filter,\n    LatestBooks,\n    ResultBook,\n    BookCoverCat,\n    Sidebar,\n    OrderHistory\n  }\n};","map":{"version":3,"mappings":"AACA,OAAOA,MAAP,MAAmB,oCAAnB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,WAAP,MAAwB,2CAAxB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,OAAOC,OAAP,MAAoB,oDAApB;AACA,OAAOC,YAAP,MAAyB,yDAAzB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,SAASC,UAAT,EAAqBC,KAArB,EAA4BC,KAA5B,EAAmCC,OAAnC,QAAkD,oBAAlD;AAEA,eAAc;EACVC,IAAI,GAAE;IACF,OAAM;MACFC,cAAc,EAAC,CACX;QACIC,OAAO,EAAC,eADZ;QAEIC,QAAQ,EAAC,WAFb;QAGIC,SAAS,EAAC,MAHd;QAIIC,YAAY,EAAC,+BAJjB;QAKIC,SAAS,EAAC,cALd;QAMIC,MAAM,EAAE,aANZ;QAOIC,QAAQ,EAAE,MAPd;QAQIC,SAAS,EAAE,MARf;QASIC,UAAU,EAAC,qBATf;QAUIC,aAAa,EAAC;MAVlB,CADW,EAaX;QACIT,OAAO,EAAC,eADZ;QAEIC,QAAQ,EAAC,0BAFb;QAGIC,SAAS,EAAC,MAHd;QAIIC,YAAY,EAAC,+BAJjB;QAKIC,SAAS,EAAC,cALd;QAMIC,MAAM,EAAE,aANZ;QAOIC,QAAQ,EAAE,MAPd;QAQIC,SAAS,EAAE,MARf;QASIC,UAAU,EAAC,qBATf;QAUIC,aAAa,EAAC;MAVlB,CAbW,CADb;MA2BFC,EAAE,EAAE,KAAKC,MAAL,CAAYhB,KAAZ,CAAkBe,EA3BpB;MA4BFE,MAAM,EAAE;IA5BN,CAAN;EA8BH,CAhCS;;EAiCV,MAAMC,OAAN,GAAe;IAEP,IAAIC,EAAC,GAAIrB,QAAQ,CAACsB,SAAT,EAAT;IACA,KAAKH,MAAL,GAAc,EAAd;IACA,MAAMI,SAAQ,GAAItB,UAAU,CAACoB,EAAD,EAAK,QAAL,CAA5B;IACA,MAAMG,IAAItB,KAAK,CAACqB,SAAD,EAAYpB,KAAK,CAAC,gBAAD,EAAkB,IAAlB,EAAwB,IAAxB,CAAjB,CAAf;IAEA,MAAMsB,aAAY,GAAI,MAAMrB,OAAO,CAACoB,CAAD,CAAnC;IACAC,aAAa,CAACC,OAAd,CAAsBC,GAAE,IAAK;MACzBC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACtB,IAAJ,EAAZ;IACH,CAFD,EARO,CAWP;IACA;IACA;EAEP,CAhDS;;EAiDVyB,UAAU,EAAC;IACXrC,MADW;IAEXC,MAFW;IAGXC,WAHW;IAIXC,UAJW;IAKXC,YALW;IAMXC,OANW;IAOXC;EAPW;AAjDD,CAAd","names":["Header","Filter","LatestBooks","ResultBook","BookCoverCat","Sidebar","OrderHistory","firebase","collection","query","where","getDocs","data","orderedHistory","orderID","bookName","bookPrice","bookImageURL","orderDate","shipTo","bookYear","bookGenre","bookAuthor","bookDelivered","id","$route","orders","created","db","firestore","ordersRef","q","querySnapshot","forEach","doc","console","log","components"],"sourceRoot":"","sources":["W:\\Coding\\finalProject\\e-commerce-website\\src\\views\\OrderHistory\\OrderHistory.vue"],"sourcesContent":["<script>\r\nimport Header from '../../components/Header/Header.vue';\r\nimport Filter from '../../components/Filter/Filter.vue';\r\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\r\nimport ResultBook from '../../components/Search/ResultBook.vue';\r\nimport BookCoverCat from '../../components/HomePage/BookCoverCat.vue';\r\nimport Sidebar from '../../components/User/OrderHistoryView/Sidebar.vue';\r\nimport OrderHistory from '../../components/User/OrderHistoryView/OrderHistory.vue';\r\nimport firebase from 'firebase/compat/app';\r\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\r\n\r\nexport default{\r\n    data(){\r\n        return{\r\n            orderedHistory:[\r\n                {   \r\n                    orderID:'46FA4F65A4F6A',\r\n                    bookName:\"Gitanjali\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\",\r\n                    orderDate:\"2 April 2022\",\r\n                    shipTo: \"Ajay sharma\",\r\n                    bookYear: \"1910\",\r\n                    bookGenre: \"Poem\",\r\n                    bookAuthor:\"Rabindranath Tagore\",\r\n                    bookDelivered:\"8 April 2022\"\r\n                },\r\n                {   \r\n                    orderID:'46FA4F65A4F6A',\r\n                    bookName:\"A Thousand Splendid Suns\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\",\r\n                    orderDate:\"2 April 2022\",\r\n                    shipTo: \"Ajay sharma\",\r\n                    bookYear: \"1910\",\r\n                    bookGenre: \"Poem\",\r\n                    bookAuthor:\"Rabindranath Tagore\",\r\n                    bookDelivered:\"8 April 2022\"\r\n                },\r\n            ],\r\n            id: this.$route.query.id,\r\n            orders: []\r\n        }\r\n    },\r\n    async created(){\r\n      \r\n            var db = firebase.firestore();\r\n            this.orders = [];\r\n            const ordersRef = collection(db, 'Orders');\r\n            const q = query(ordersRef, where(\"orderCompleted\",\"==\", true))\r\n            \r\n            const querySnapshot = await getDocs(q);\r\n            querySnapshot.forEach(doc => {\r\n                console.log(doc.data());\r\n            })\r\n            // db.collection('Users').doc(this.id).get()..then((r) =>{\r\n            //     console.log(r.data())\r\n            // }) \r\n        \r\n    },\r\n    components:{\r\n    Header,\r\n    Filter,\r\n    LatestBooks,\r\n    ResultBook,\r\n    BookCoverCat,\r\n    Sidebar, \r\n    OrderHistory\r\n    },\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"relative\" >\r\n        <!-- Header -->\r\n        <div class=\"\">\r\n            <Header :userID=\"id\" class=\"fixed z-10 w-full top-0\" />\r\n        </div>\r\n        \r\n        <!-- Filter -->\r\n        <div class=\"absoulute\">\r\n            <div class=\"\">              \r\n                <div class=\"fixed w-full\">\r\n                    <Sidebar />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Order History -->\r\n        <div class=\"mt-20 absolute top-6 left-96\">\r\n            <div class=\"w-240\">\r\n                <div class=\"text-3xl font-bold text-gray-700\">ORDER HISTORY</div>\r\n                <div v-for=\"item in orderedHistory\" :key=\"item.id\">\r\n                        <OrderHistory :orderID=\"item.orderID\" :bookName=\"item.bookName\" :bookPrice=\"item.bookPrice\" :bookImageURL=\"item.bookImageURL\" :orderDate=\"item.orderDate\" :shipTo=\"item.shipTo\" :bookYear=\"item.bookYear\" :bookGenre=\"item.bookGenre\" :bookAuthor=\"item.bookAuthor\" :bookDelivered=\"item.bookDelivered\" />\r\n                    </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n    \r\n        \r\n</template>\r\n\r\n<style>\r\n</style>\r\n\r\n                    <!-- <ResultBook :bookName=\"item.bookName\" :bookDate=\"item.bookDate\" :bookLanguage=\"item.bookLanguage\" :bookCover=\"item.bookCover\" :bookPrice=\"item.bookPrice\" :bookImageURL=\"item.bookImageURL\"/> -->"]},"metadata":{},"sourceType":"module"}