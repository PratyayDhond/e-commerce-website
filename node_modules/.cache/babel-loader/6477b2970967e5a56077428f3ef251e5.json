{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n// import Header from '../../components/Header/Header.vue';\nimport Filter from '../../components/Filter/Filter.vue';\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\nimport ResultBook from '../../components/Search/ResultBook.vue';\nimport firebase from 'firebase/compat/app';\nexport default {\n  data() {\n    return {\n      searchedBooks: [{\n        bookName: \"A Thousand Splendid Suns - Khaled Hosseini\",\n        bookDate: \"May 22, 2007\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"1300\",\n        bookImageURL: \"https://picsum.photos/200/300\"\n      }, {\n        bookName: \"Ikigai - Francesc Miralles\",\n        bookDate: \"September 22, 2017\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"418\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Atomic Habits - James Clear\",\n        bookDate: \"May 30, 2018\",\n        bookLanguage: \"English\",\n        bookCover: \"Paperback\",\n        bookPrice: \"600\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"A Thousand Splendid Suns - Khaled Hosseini\",\n        bookDate: \"May 22, 2007\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"1300\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Ikigai - Francesc Miralles\",\n        bookDate: \"September 22, 2017\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"418\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Atomic Habits - James Clear\",\n        bookDate: \"May 30, 2018\",\n        bookLanguage: \"English\",\n        bookCover: \"Paperback\",\n        bookPrice: \"600\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"A Thousand Splendid Suns - Khaled Hosseini\",\n        bookDate: \"May 22, 2007\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"1300\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Ikigai - Francesc Miralles\",\n        bookDate: \"September 22, 2017\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"418\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Atomic Habits - James Clear\",\n        bookDate: \"May 30, 2018\",\n        bookLanguage: \"English\",\n        bookCover: \"Paperback\",\n        bookPrice: \"600\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }],\n      books: [],\n      filteredBooks: [],\n      search: this.$route.query.search,\n      userID: this.$route.query.userId\n    };\n  },\n\n  created() {\n    console.log('search = ' + this.search);\n    console.log(typeof this.search);\n    let str = '';\n    str = this.search;\n    console.log(\"Inside created of searchResult.vue\");\n    const db = firebase.firestore();\n\n    try {\n      db.collection('books').get().then(querySnapshot => {\n        querySnapshot.forEach(doc => {\n          // console.log(doc.id)\n          var obj = doc.data();\n          obj.id = doc.id;\n          this.books.push(obj);\n        });\n        console.log(this.books); // for(let i =0; i < this.books.length; i++){\n        // if(this.books[i].name.includes(this.search))\n        // console.log(this.book[i].name)\n        // }\n\n        this.filterData();\n      });\n    } // for(let i = 0; i < this.books.length; i++)\n    // console.log(this.books[i].name);\n    catch (e) {// console.log(e)\n    }\n  },\n\n  components: {\n    Filter,\n    LatestBooks,\n    ResultBook\n  },\n  methods: {\n    submit() {},\n\n    filterData() {\n      this.filteredBooks = [];\n\n      for (let i = 0; i < this.books.length; i++) {\n        if (this.books[i].name.toLowerCase().includes(this.search.toLowerCase().trim())) {\n          this.filteredBooks.push(this.books[i]);\n        }\n      }\n\n      console.log(this.filteredBooks);\n    }\n\n  },\n  watch: {\n    search() {\n      console.log(this.search);\n      this.filterData();\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["Filter","LatestBooks","ResultBook","firebase","data","searchedBooks","bookName","bookDate","bookLanguage","bookCover","bookPrice","bookImageURL","books","filteredBooks","search","$route","query","userID","userId","created","console","log","str","db","firestore","collection","get","then","querySnapshot","forEach","doc","obj","id","push","filterData","e","components","methods","submit","i","length","name","toLowerCase","includes","trim","watch"],"sourceRoot":"","sources":["D:\\Code\\Projects\\e-commerce-website\\src\\views\\SearchPage\\SearchResult.vue"],"sourcesContent":["<script>\r\n// import Header from '../../components/Header/Header.vue';\r\nimport Filter from '../../components/Filter/Filter.vue';\r\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\r\nimport ResultBook from '../../components/Search/ResultBook.vue';\r\nimport firebase from 'firebase/compat/app';\r\n\r\n\r\nexport default{\r\n    \r\n    data(){\r\n        return{\r\n            searchedBooks:[\r\n                {\r\n                    bookName:\"A Thousand Splendid Suns - Khaled Hosseini\",\r\n                    bookDate:\"May 22, 2007\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\"\r\n                },\r\n                {\r\n                    bookName:\"Ikigai - Francesc Miralles\",\r\n                    bookDate:\"September 22, 2017\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"418\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Atomic Habits - James Clear\",\r\n                    bookDate:\"May 30, 2018\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Paperback\",\r\n                    bookPrice:\"600\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"A Thousand Splendid Suns - Khaled Hosseini\",\r\n                    bookDate:\"May 22, 2007\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Ikigai - Francesc Miralles\",\r\n                    bookDate:\"September 22, 2017\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"418\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Atomic Habits - James Clear\",\r\n                    bookDate:\"May 30, 2018\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Paperback\",\r\n                    bookPrice:\"600\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"A Thousand Splendid Suns - Khaled Hosseini\",\r\n                    bookDate:\"May 22, 2007\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Ikigai - Francesc Miralles\",\r\n                    bookDate:\"September 22, 2017\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"418\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Atomic Habits - James Clear\",\r\n                    bookDate:\"May 30, 2018\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Paperback\",\r\n                    bookPrice:\"600\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                }\r\n            ],\r\n            books: [],\r\n            filteredBooks:[],\r\n            search: this.$route.query.search,\r\n            userID: this.$route.query.userId\r\n        }\r\n    },\r\n    created(){\r\n        console.log('search = ' + this.search)\r\n        console.log(typeof(this.search))\r\n        let str = ''\r\n        str = this.search\r\n        console.log(\"Inside created of searchResult.vue\")\r\n        const db = firebase.firestore(); \r\n        try{\r\n            db.collection('books').get().then((querySnapshot) => {\r\n                querySnapshot.forEach(doc =>{\r\n                    // console.log(doc.id)\r\n                    var obj = doc.data();\r\n                    obj.id = doc.id;\r\n                    this.books.push(obj);\r\n                });\r\n                console.log(this.books);\r\n                \r\n                // for(let i =0; i < this.books.length; i++){\r\n                    // if(this.books[i].name.includes(this.search))\r\n                        // console.log(this.book[i].name)\r\n                // }\r\n                this.filterData();\r\n            })\r\n        }\r\n\r\n        // for(let i = 0; i < this.books.length; i++)\r\n            // console.log(this.books[i].name);\r\n        catch(e){\r\n            // console.log(e)\r\n        }\r\n    },\r\n    components:{\r\n    Filter,\r\n    LatestBooks,\r\n    ResultBook\r\n},\r\nmethods:{\r\n    submit(){\r\n\r\n    },\r\n    filterData(){\r\n        this.filteredBooks = []\r\n        for(let i = 0; i < this.books.length; i++){\r\n            if(this.books[i].name.toLowerCase().includes(this.search.toLowerCase().trim())){\r\n                this.filteredBooks.push(this.books[i]);\r\n            }\r\n        }\r\n        console.log(this.filteredBooks)\r\n    }\r\n},\r\nwatch:{\r\n    search(){\r\n        console.log(this.search)\r\n        this.filterData();\r\n    }\r\n} \r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"relative\" >\r\n        <!-- Header -->\r\n        <div class=\"\">\r\n            <div class=\"pt-3 px-5 pb-8 flex items-center justify-between bg-white\">\r\n            <router-link to=\"/home\">\r\n                <div class=\"\">\r\n                    <img class=\"h-14\" src=\"../../assets/images/logo.png\" alt=\"\" >\r\n                </div>\r\n            </router-link>\r\n            <div class=\"w-4/5\">\r\n            <!-- <router-link to=\"/searchResult\"> -->\r\n            <!-- <router-link :to=\"{name: 'searchResult', query: {userID: userID}}\"> -->\r\n            <div class=\"relative\" >\r\n                <svg class=\"pointer-events-none w-8 h-5 absolute top-1/2 transform -translate-y-1/2 left-3\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 90 90\" width=\"90px\" height=\"80px\" @click=\"true\">\r\n                  <g id=\"surface1552061\">\r\n                     <path style=\" stroke:none;fill-rule:nonzero;fill:rgb(61.176473%,63.921571%,68.627453%);fill-opacity:1;\" d=\"M 39 9 C 22.46875 9 9 22.46875 9 39 C 9 55.53125 22.46875 69 39 69 C 46.191406 69 52.792969 66.445312 57.96875 62.207031 L 75.878906 80.121094 C 76.632812 80.90625 77.75 81.21875 78.800781 80.945312 C 79.851562 80.671875 80.671875 79.851562 80.945312 78.800781 C 81.21875 77.75 80.90625 76.632812 80.121094 75.878906 L 62.207031 57.964844 C 66.445312 52.792969 69 46.191406 69 39 C 69 22.46875 55.53125 9 39 9 Z M 39 15 C 52.289062 15 63 25.710938 63 39 C 63 52.289062 52.289062 63 39 63 C 25.710938 63 15 52.289062 15 39 C 15 25.710938 25.710938 15 39 15 Z M 39 15 \"/>\r\n                  </g>\r\n                </svg>\r\n                <input class=\"bg-primary-1 appearance-none border-transparent border-white rounded-xl h-10 w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-secondary-1 focus:ring-transparent pl-14 opacity-100\" type=\"text\" placeholder=\"Search for books\" v-model=\"search\" @keypress.enter=\"filterData\">\r\n            </div>\r\n<!-- </router-link> -->\r\n        </div>\r\n            <div class=\"\">\r\n                <div class=\"flex gap-8\">\r\n            <router-link :to=\"{name: 'cart', query: {id: userID}}\">\r\n            <div class=\"w-8\" @click=\"true\">\r\n                <img class=\"w-full\" src=\"../../assets/images/cartBlack.png\" alt=\"\">\r\n            </div>\r\n            </router-link>\r\n\r\n            <router-link :to=\"{name: 'wishList', query: {id: userID}}\">\r\n            <div class=\"w-8\">\r\n                <img class=\"w-full\" src=\"../../assets/images/heartBlack.png\" alt=\"\">\r\n            </div>\r\n            </router-link>\r\n\r\n            <router-link :to=\"{name: 'userView', query: {id: userID}}\">\r\n            <div class=\"w-8\">\r\n                <img class=\"w-full\" src=\"../../assets/images/userBlack.png\" alt=\"\">\r\n            </div>\r\n            </router-link>\r\n        </div>\r\n    </div>\r\n        \r\n    </div>\r\n        </div>\r\n        \r\n        <!-- Filter -->\r\n            <div class=\"mt-24 absoulute ml-7\">\r\n                <div class=\"\">\r\n                    \r\n                    <div class=\"fixed h-96 w-full\">\r\n                        <p>Home / Books</p>\r\n                        <Filter />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        <div class=\"absolute top-10 left-96\">\r\n            <div class=\"flex items-baseline\">\r\n                <div class=\"mr-5 font-medium text-lg text-gray-800\">Results for</div>\r\n                <div class=\"text-gray-\">\"{{search}}\"</div>\r\n            </div>\r\n            \r\n            <div class=\"w-240\" >\r\n                <div v-for=\"item in filteredBooks\" :key=\"item.id\">\r\n                    <ResultBook  :bookName=\"item.name\" :bookDate=\"item.publicationYear\" bookLanguage=\"English\" bookCover=\"hardcover\" :bookPrice=\"item.price\" :bookImageURL=\"item.url\" :id=\"item.id\"  :userID=\"userID\"/>\r\n            </div>\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n\r\n        \r\n    </div>\r\n    \r\n        \r\n</template>\r\n\r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}