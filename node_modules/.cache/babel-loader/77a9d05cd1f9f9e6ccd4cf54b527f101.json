{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport Header from '../../components/Header/Header.vue';\nimport Filter from '../../components/Filter/Filter.vue';\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\nimport ResultBook from '../../components/Search/ResultBook.vue';\nimport firebase from 'firebase/compat/app';\nexport default {\n  data() {\n    return {\n      searchedBooks: [{\n        bookName: \"A Thousand Splendid Suns - Khaled Hosseini\",\n        bookDate: \"May 22, 2007\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"1300\",\n        bookImageURL: \"https://picsum.photos/200/300\"\n      }, {\n        bookName: \"Ikigai - Francesc Miralles\",\n        bookDate: \"September 22, 2017\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"418\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Atomic Habits - James Clear\",\n        bookDate: \"May 30, 2018\",\n        bookLanguage: \"English\",\n        bookCover: \"Paperback\",\n        bookPrice: \"600\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"A Thousand Splendid Suns - Khaled Hosseini\",\n        bookDate: \"May 22, 2007\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"1300\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Ikigai - Francesc Miralles\",\n        bookDate: \"September 22, 2017\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"418\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Atomic Habits - James Clear\",\n        bookDate: \"May 30, 2018\",\n        bookLanguage: \"English\",\n        bookCover: \"Paperback\",\n        bookPrice: \"600\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"A Thousand Splendid Suns - Khaled Hosseini\",\n        bookDate: \"May 22, 2007\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"1300\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Ikigai - Francesc Miralles\",\n        bookDate: \"September 22, 2017\",\n        bookLanguage: \"English\",\n        bookCover: \"Hardcover\",\n        bookPrice: \"418\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }, {\n        bookName: \"Atomic Habits - James Clear\",\n        bookDate: \"May 30, 2018\",\n        bookLanguage: \"English\",\n        bookCover: \"Paperback\",\n        bookPrice: \"600\",\n        bookImageURL: \"../../assets/images/athousandsplendidsunscover.jpg\"\n      }],\n      books: [],\n      filteredBooks: [],\n      search: this.$route.query.search,\n      userID: this.$route.query.userId\n    };\n  },\n\n  created() {\n    console.log('search = ' + this.search);\n    console.log(typeof this.search);\n    let str = '';\n    str = this.search;\n    console.log(\"Inside created of searchResult.vue\");\n    const db = firebase.firestore();\n\n    try {\n      db.collection('books').get().then(querySnapshot => {\n        querySnapshot.forEach(doc => {\n          // console.log(doc.id)\n          var obj = doc.data();\n          obj.id = doc.id;\n          this.books.push(obj);\n        });\n        console.log(this.books);\n\n        for (let i = 0; i < this.books.length; i++) {\n          if (this.books[i].name.includes(this.search)) console.log(this.book[i].name);\n        } // this.books.forEach(\n        //     function(item){\n        //         if(item.name.includes(this.search))\n        //             console.log(item)\n        //     }\n        // )\n        // for(let item in this.books){\n        //     if(item.name.includes(search.trim()))\n        //         console.log(item)\n        // }\n\n\n        console.log(this.books);\n      });\n    } // for(let i = 0; i < this.books.length; i++)\n    // console.log(this.books[i].name);\n    catch (e) {// console.log(e)\n    }\n  },\n\n  components: {\n    Header,\n    Filter,\n    LatestBooks,\n    ResultBook\n  },\n  methods: {\n    submit() {\n      this.$route.go();\n    }\n\n  }\n};","map":{"version":3,"mappings":";AACA,OAAOA,MAAP,MAAmB,oCAAnB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,WAAP,MAAwB,2CAAxB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,eAAc;EAEVC,IAAI,GAAE;IACF,OAAM;MACFC,aAAa,EAAC,CACV;QACIC,QAAQ,EAAC,4CADb;QAEIC,QAAQ,EAAC,cAFb;QAGIC,YAAY,EAAC,SAHjB;QAIIC,SAAS,EAAC,WAJd;QAKIC,SAAS,EAAC,MALd;QAMIC,YAAY,EAAC;MANjB,CADU,EASV;QACIL,QAAQ,EAAC,4BADb;QAEIC,QAAQ,EAAC,oBAFb;QAGIC,YAAY,EAAC,SAHjB;QAIIC,SAAS,EAAC,WAJd;QAKIC,SAAS,EAAC,KALd;QAMIC,YAAY,EAAC;MANjB,CATU,EAiBV;QACIL,QAAQ,EAAC,6BADb;QAEIC,QAAQ,EAAC,cAFb;QAGIC,YAAY,EAAC,SAHjB;QAIIC,SAAS,EAAC,WAJd;QAKIC,SAAS,EAAC,KALd;QAMIC,YAAY,EAAC;MANjB,CAjBU,EAyBV;QACIL,QAAQ,EAAC,4CADb;QAEIC,QAAQ,EAAC,cAFb;QAGIC,YAAY,EAAC,SAHjB;QAIIC,SAAS,EAAC,WAJd;QAKIC,SAAS,EAAC,MALd;QAMIC,YAAY,EAAC;MANjB,CAzBU,EAiCV;QACIL,QAAQ,EAAC,4BADb;QAEIC,QAAQ,EAAC,oBAFb;QAGIC,YAAY,EAAC,SAHjB;QAIIC,SAAS,EAAC,WAJd;QAKIC,SAAS,EAAC,KALd;QAMIC,YAAY,EAAC;MANjB,CAjCU,EAyCV;QACIL,QAAQ,EAAC,6BADb;QAEIC,QAAQ,EAAC,cAFb;QAGIC,YAAY,EAAC,SAHjB;QAIIC,SAAS,EAAC,WAJd;QAKIC,SAAS,EAAC,KALd;QAMIC,YAAY,EAAC;MANjB,CAzCU,EAiDV;QACIL,QAAQ,EAAC,4CADb;QAEIC,QAAQ,EAAC,cAFb;QAGIC,YAAY,EAAC,SAHjB;QAIIC,SAAS,EAAC,WAJd;QAKIC,SAAS,EAAC,MALd;QAMIC,YAAY,EAAC;MANjB,CAjDU,EAyDV;QACIL,QAAQ,EAAC,4BADb;QAEIC,QAAQ,EAAC,oBAFb;QAGIC,YAAY,EAAC,SAHjB;QAIIC,SAAS,EAAC,WAJd;QAKIC,SAAS,EAAC,KALd;QAMIC,YAAY,EAAC;MANjB,CAzDU,EAiEV;QACIL,QAAQ,EAAC,6BADb;QAEIC,QAAQ,EAAC,cAFb;QAGIC,YAAY,EAAC,SAHjB;QAIIC,SAAS,EAAC,WAJd;QAKIC,SAAS,EAAC,KALd;QAMIC,YAAY,EAAC;MANjB,CAjEU,CADZ;MA2EFC,KAAK,EAAE,EA3EL;MA4EFC,aAAa,EAAC,EA5EZ;MA6EFC,MAAM,EAAE,KAAKC,MAAL,CAAYC,KAAZ,CAAkBF,MA7ExB;MA8EFG,MAAM,EAAE,KAAKF,MAAL,CAAYC,KAAZ,CAAkBE;IA9ExB,CAAN;EAgFH,CAnFS;;EAoFVC,OAAO,GAAE;IACLC,OAAO,CAACC,GAAR,CAAY,cAAc,KAAKP,MAA/B;IACAM,OAAO,CAACC,GAAR,CAAY,OAAO,KAAKP,MAAxB;IACA,IAAIQ,GAAE,GAAI,EAAV;IACAA,GAAE,GAAI,KAAKR,MAAX;IACAM,OAAO,CAACC,GAAR,CAAY,oCAAZ;IACA,MAAME,EAAC,GAAIpB,QAAQ,CAACqB,SAAT,EAAX;;IACA,IAAG;MACCD,EAAE,CAACE,UAAH,CAAc,OAAd,EAAuBC,GAAvB,GAA6BC,IAA7B,CAAmCC,aAAD,IAAmB;QACjDA,aAAa,CAACC,OAAd,CAAsBC,GAAE,IAAI;UACxB;UACA,IAAIC,GAAE,GAAID,GAAG,CAAC1B,IAAJ,EAAV;UACA2B,GAAG,CAACC,EAAJ,GAASF,GAAG,CAACE,EAAb;UACA,KAAKpB,KAAL,CAAWqB,IAAX,CAAgBF,GAAhB;QACH,CALD;QAMAX,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAjB;;QAEA,KAAI,IAAIsB,IAAG,CAAX,EAAcA,IAAI,KAAKtB,KAAL,CAAWuB,MAA7B,EAAqCD,CAAC,EAAtC,EAAyC;UACrC,IAAG,KAAKtB,KAAL,CAAWsB,CAAX,EAAcE,IAAd,CAAmBC,QAAnB,CAA4B,KAAKvB,MAAjC,CAAH,EACIM,OAAO,CAACC,GAAR,CAAY,KAAKiB,IAAL,CAAUJ,CAAV,EAAaE,IAAzB;QACR,CAZiD,CAcjD;QACA;QACA;QACA;QACA;QACA;QAEA;QACA;QACA;QACA;;;QACAhB,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAjB;MACH,CA1BD;IA2BJ,CA5BA,CA8BA;IACI;IACJ,OAAM2B,CAAN,EAAQ,CACJ;IACJ;EACH,CA9HS;;EA+HVC,UAAU,EAAC;IACXzC,MADW;IAEXC,MAFW;IAGXC,WAHW;IAIXC;EAJW,CA/HD;EAqIduC,OAAO,EAAC;IACJC,MAAM,GAAE;MACJ,KAAK3B,MAAL,CAAY4B,EAAZ;IACJ;;EAHI;AArIM,CAAd","names":["Header","Filter","LatestBooks","ResultBook","firebase","data","searchedBooks","bookName","bookDate","bookLanguage","bookCover","bookPrice","bookImageURL","books","filteredBooks","search","$route","query","userID","userId","created","console","log","str","db","firestore","collection","get","then","querySnapshot","forEach","doc","obj","id","push","i","length","name","includes","book","e","components","methods","submit","go"],"sourceRoot":"","sources":["D:\\coding\\e-commerce-website\\src\\views\\SearchPage\\SearchResult.vue"],"sourcesContent":["<script>\r\nimport Header from '../../components/Header/Header.vue';\r\nimport Filter from '../../components/Filter/Filter.vue';\r\nimport LatestBooks from '../../components/HomePage/LatestBooks.vue';\r\nimport ResultBook from '../../components/Search/ResultBook.vue';\r\nimport firebase from 'firebase/compat/app';\r\nexport default{\r\n    \r\n    data(){\r\n        return{\r\n            searchedBooks:[\r\n                {\r\n                    bookName:\"A Thousand Splendid Suns - Khaled Hosseini\",\r\n                    bookDate:\"May 22, 2007\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"https://picsum.photos/200/300\"\r\n                },\r\n                {\r\n                    bookName:\"Ikigai - Francesc Miralles\",\r\n                    bookDate:\"September 22, 2017\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"418\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Atomic Habits - James Clear\",\r\n                    bookDate:\"May 30, 2018\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Paperback\",\r\n                    bookPrice:\"600\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"A Thousand Splendid Suns - Khaled Hosseini\",\r\n                    bookDate:\"May 22, 2007\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Ikigai - Francesc Miralles\",\r\n                    bookDate:\"September 22, 2017\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"418\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Atomic Habits - James Clear\",\r\n                    bookDate:\"May 30, 2018\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Paperback\",\r\n                    bookPrice:\"600\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"A Thousand Splendid Suns - Khaled Hosseini\",\r\n                    bookDate:\"May 22, 2007\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"1300\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Ikigai - Francesc Miralles\",\r\n                    bookDate:\"September 22, 2017\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Hardcover\",\r\n                    bookPrice:\"418\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                },\r\n                {\r\n                    bookName:\"Atomic Habits - James Clear\",\r\n                    bookDate:\"May 30, 2018\",\r\n                    bookLanguage:\"English\",\r\n                    bookCover:\"Paperback\",\r\n                    bookPrice:\"600\",\r\n                    bookImageURL:\"../../assets/images/athousandsplendidsunscover.jpg\"\r\n                }\r\n            ],\r\n            books: [],\r\n            filteredBooks:[],\r\n            search: this.$route.query.search,\r\n            userID: this.$route.query.userId\r\n        }\r\n    },\r\n    created(){\r\n        console.log('search = ' + this.search)\r\n        console.log(typeof(this.search))\r\n        let str = ''\r\n        str = this.search\r\n        console.log(\"Inside created of searchResult.vue\")\r\n        const db = firebase.firestore(); \r\n        try{\r\n            db.collection('books').get().then((querySnapshot) => {\r\n                querySnapshot.forEach(doc =>{\r\n                    // console.log(doc.id)\r\n                    var obj = doc.data();\r\n                    obj.id = doc.id;\r\n                    this.books.push(obj);\r\n                });\r\n                console.log(this.books);\r\n                \r\n                for(let i =0; i < this.books.length; i++){\r\n                    if(this.books[i].name.includes(this.search))\r\n                        console.log(this.book[i].name)\r\n                }\r\n\r\n                // this.books.forEach(\r\n                //     function(item){\r\n                //         if(item.name.includes(this.search))\r\n                //             console.log(item)\r\n                //     }\r\n                // )\r\n\r\n                // for(let item in this.books){\r\n                //     if(item.name.includes(search.trim()))\r\n                //         console.log(item)\r\n                // }\r\n                console.log(this.books);\r\n            })\r\n        }\r\n\r\n        // for(let i = 0; i < this.books.length; i++)\r\n            // console.log(this.books[i].name);\r\n        catch(e){\r\n            // console.log(e)\r\n        }\r\n    },\r\n    components:{\r\n    Header,\r\n    Filter,\r\n    LatestBooks,\r\n    ResultBook\r\n},\r\nmethods:{\r\n    submit(){\r\n        this.$route.go();\r\n    }\r\n}\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"relative\" >\r\n        <!-- Header -->\r\n        <div class=\"\">\r\n            <div class=\"pt-3 px-5 pb-8 flex items-center justify-between bg-white\">\r\n       \r\n       <router-link to=\"/home\">\r\n        <div class=\"\">\r\n            <img class=\"h-14\" src=\"../../assets/images/logo.png\" alt=\"\" >\r\n        </div>\r\n        </router-link>\r\n        \r\n      \r\n        <div class=\"w-4/5\">\r\n            <SearchBar :userID=\"userID\" />\r\n        </div>\r\n        <div class=\"\">\r\n            <NavBarComponents :userID=\"userID\" />\r\n        </div>\r\n        \r\n    </div>\r\n        </div>\r\n        \r\n        <!-- Filter -->\r\n            <div class=\"mt-24 absoulute ml-7\">\r\n                <div class=\"\">\r\n                    \r\n                    <div class=\"fixed h-96 w-full\">\r\n                        <p>Home / Books</p>\r\n                        <Filter />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        <div class=\"absolute top-10 left-96\">\r\n            <div class=\"flex items-baseline\">\r\n                <div class=\"mr-5 font-medium text-lg text-gray-800\">Results for</div>\r\n                <div class=\"text-gray-\">\"{{search}}\"</div>\r\n            </div>\r\n            \r\n            <div class=\"w-240\" >\r\n                <div v-for=\"item in books\" :key=\"item.id\">\r\n                    <ResultBook  :bookName=\"item.name\" :bookDate=\"item.publicationYear\" bookLanguage=\"English\" bookCover=\"hardcover\" :bookPrice=\"item.price\" :bookImageURL=\"item.url\" :id=\"item.id\"  :userID=\"userID\"/>\r\n            </div>\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n\r\n        \r\n    </div>\r\n    \r\n        \r\n</template>\r\n\r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}