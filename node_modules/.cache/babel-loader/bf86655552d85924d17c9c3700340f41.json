{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-60 bg-black bg-opacity-5 border-\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  class: \"border-2 border-opacity-5 border-black w-full\"\n};\nconst _hoisted_4 = {\n  class: \"flex flex-col items-start ml-10\"\n};\nconst _hoisted_5 = {\n  class: \"mt-7 font-bold text-gray-700 text-lg cursor-pointer hover:text-secondary-1\"\n};\nconst _hoisted_6 = {\n  class: \"text-gray-500\"\n};\nconst _hoisted_7 = {\n  class: \"text-gray-500\"\n};\nconst _hoisted_8 = {\n  class: \"text-gray-500\"\n};\nconst _hoisted_9 = {\n  class: \"flex flex-row justify-between w-full mt-14 pr-10 item-center\"\n};\nconst _hoisted_10 = {\n  class: \"font-bold text-gray-700 text-xl\"\n};\nconst _hoisted_11 = {\n  class: \"flex items-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"flex flex-row mt-7 border-\",\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.handler && _ctx.handler(...args))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_router_link, {\n    to: {\n      path: '/book',\n      query: {\n        id: this.id,\n        userID: this.userID\n      }\n    }\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"img\", {\n      class: \"h-60 object-contain border-none w-full\",\n      src: $props.bookImageURL,\n      alt: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_2)]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"])]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: {\n      path: '/book',\n      query: {\n        id: this.id,\n        userID: this.userID\n      }\n    }\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, _toDisplayString($props.bookName), 1\n    /* TEXT */\n    )]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"]), _createElementVNode(\"div\", _hoisted_6, _toDisplayString($props.bookDate), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_7, _toDisplayString($props.bookLanguage), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_8, _toDisplayString($props.bookCover), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, \"â‚¹ \" + _toDisplayString($props.bookPrice), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", {\n    class: \"py-2 w-32 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addToWishlist && $options.addToWishlist(...args))\n  }, \" Add to Wishlist \"), _createElementVNode(\"div\", {\n    class: \"ml-5 py-2 w-32 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.addToCart && $options.addToCart(...args))\n  }, \" Add to Cart \")])])])])]);\n}","map":{"version":3,"mappings":";;EAiJaA,KAAK,EAAC;;;;EAWNA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EAQHA,KAAK,EAAC;;;EAELA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;;;uBA5B3BC,oBAyCM,KAzCN,EAyCM;IAzCDD,KAAK,EAAC,4BAyCL;IAzCmCE,OAAK,yCAAEC,qCAAF;EAyCxC,CAzCN,GACIC,oBAUM,KAVN,cAUM,CATFC,aAQcC,sBARd,EAQc;IARAC,EAAE;mBAAA;;iBAA+EC;qBAAgCC;;IAA/G;EAQF,CARd;sBAOA,MAA+E,CAA/EL,oBAA+E,KAA/E,EAA+E;MAA1EJ,KAAK,EAAC,wCAAoE;MAA1BU,GAAG,EAAEC,mBAAqB;MAAPC,GAAG,EAAC;IAAG,CAA/E;;IAAA,aAA+E;;;;GAP/E;;EAAA,SASE,CAVN,GAWAR,oBA2BM,KA3BN,cA2BM,CA1BFA,oBAyBM,KAzBN,cAyBM,CAxBHC,aAQeC,sBARf,EAQe;IARDC,EAAE;mBAAA;;iBAA+EC;qBAAgCC;;IAA/G;EAQD,CARf;sBAOA,MAA4G,CAA5GL,oBAA4G,KAA5G,cAA4GS,iBAAjBF,eAAiB,CAA5G,EAAmG;IAAA;IAAnG,CAA4G;;;;GAP5G;;EAAA,SAwBG,EAfFP,oBAA+C,KAA/C,cAA+CS,iBAAjBF,eAAiB,CAA/C,EAAsC;EAAA;EAAtC,CAeE,EAdFP,oBAAmD,KAAnD,cAAmDS,iBAArBF,mBAAqB,CAAnD,EAA0C;EAAA;EAA1C,CAcE,EAbFP,oBAAgD,KAAhD,cAAgDS,iBAAlBF,gBAAkB,CAAhD,EAAuC;EAAA;EAAvC,CAaE,EAZFP,oBAUM,KAVN,cAUM,CATFA,oBAAmE,KAAnE,eAA8C,OAAES,iBAAEF,gBAAF,CAAhD,EAA2D;EAAA;EAA3D,CASE,EARFP,oBAOM,KAPN,eAOM,CANFA,oBAEM,KAFN,EAEM;IAFDJ,KAAK,EAAC,sIAEL;IAF6IE,OAAK,yCAAEY,yDAAF;EAElJ,CAFN,EAAyK,mBAAzK,CAME,EAHFV,oBAEM,KAFN,EAEM;IAFDJ,KAAK,EAAC,2IAEL;IAFkJE,OAAK,yCAAEY,iDAAF;EAEvJ,CAFN,EAA0K,eAA1K,CAGE,CAPN,CAQE,CAVN,CAYE,CAzBN,CA0BE,CA3BN,EAZJ","names":["class","_createElementBlock","onClick","_ctx","_createElementVNode","_createVNode","_component_router_link","to","id","userID","src","$props","alt","_toDisplayString","$options"],"sourceRoot":"","sources":["W:\\Coding\\finalProject\\e-commerce-website\\src\\components\\Search\\ResultBook.vue"],"sourcesContent":["<script>\r\nimport firebase from 'firebase/compat/app';\r\nexport default{\r\n    props:[\"bookName\",\"bookDate\",\"bookLanguage\",\"bookCover\",\"bookPrice\",\"bookImageURL\",\"id\",\"userID\"],\r\n    methods:{\r\n        addToCart(){\r\n            const db = firebase.firestore(); \r\n        console.log(\"Inside addToCart() method\")\r\n        try{\r\n        db.collection('Users').doc(this.userID).get().then((r) => {\r\n            var addr1 = r.data().addrLine1\r\n            var addr2 = r.data().addrLine2\r\n            var mobile = r.data().mobile\r\n            var city = r.data().city\r\n            var landmark = r.data().landmark\r\n            var name = r.data().name\r\n            var state = r.data().state\r\n            var zipcode = r.data().zipcode \r\n            var cart = r.data().cart || []\r\n            var wishlist = r.data().wishList || []\r\n            var orders = r.data().orders || []\r\n            var email = r.data().email\r\n            // var pfp = r.data().pfp\r\n\r\n            // console.log(r.data())\r\n\r\n            cart.push(this.id)\r\n            \r\n            //Removing null element if any from the array\r\n            var filtered = cart.filter(function (el) {\r\n            return el != '';\r\n            });\r\n\r\n            // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\r\n            //Removing duplicate elements if any from the array \r\n            let uniqueCart = filtered.filter((element, index) => {\r\n                return filtered.indexOf(element) === index;\r\n            });\r\n\r\n           cart = null;\r\n           cart = uniqueCart;\r\n        //    console.log(this.cart)\r\n        //    console.log(uniqueCart)\r\n\r\n            db.collection('Users').doc(this.userID).set({\r\n            addrLine1: addr1,\r\n            addrLine2: addr2,\r\n            cart: uniqueCart,\r\n            city: city,\r\n            landmark:landmark,\r\n            mobile: mobile,\r\n            name: name,\r\n            orders: orders,\r\n            state: state,\r\n            wishList: wishlist,\r\n            zipcode: zipcode,\r\n            email: email,\r\n            // pfp: pfp\r\n        }).then((ref) => {\r\n        });\r\n        console.log('Data written successfully')\r\n            // alert(\"Item added to cart successfully.\") \r\n        });\r\n\r\n            alert('Item added to cart successfully')\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n            \r\n        },\r\n        addToWishlist(){\r\n             const db = firebase.firestore(); \r\n        console.log(\"Inside addToCart() method\")\r\n        try{\r\n        db.collection('Users').doc(this.userID).get().then((r) => {\r\n            var addr1 = r.data().addrLine1\r\n            var addr2 = r.data().addrLine2\r\n            var mobile = r.data().mobile\r\n            var city = r.data().city\r\n            var landmark = r.data().landmark\r\n            var name = r.data().name\r\n            var state = r.data().state\r\n            var zipcode = r.data().zipcode\r\n            var cart = r.data().cart || []\r\n            var wishlist = r.data().wishList || []\r\n            var orders = r.data().orders || []\r\n            var email = r.data().email\r\n            // var pfp = r.data().pfp\r\n\r\n            console.log(r.data())\r\n            console.log(wishlist)\r\n            wishlist.push(this.id)\r\n            \r\n            //Removing null element if any from the array\r\n            var filtered = wishlist.filter(function (el) {\r\n            return el != '';\r\n            });\r\n\r\n            // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\r\n            //Removing duplicate elements if any from the array \r\n            let uniqueWish = filtered.filter((element, index) => {\r\n                return filtered.indexOf(element) === index;\r\n            });\r\n\r\n           wishlist = null;\r\n           wishlist= uniqueWish;\r\n        //    console.log(this.data())\r\n           console.log(uniqueWish);\r\n        //    console.log(this.cart)\r\n        //    console.log(uniqueCart)\r\n\r\n            db.collection('Users').doc(this.userID).set({\r\n            addrLine1: addr1,\r\n            addrLine2: addr2,\r\n            cart: cart,\r\n            city: city,\r\n            landmark:landmark,\r\n            mobile: mobile,\r\n            name: name,\r\n            orders: orders,\r\n            state: state,\r\n            wishList: uniqueWish,\r\n            zipcode: zipcode,\r\n            email: email,\r\n            // pfp: pfp\r\n        }).then((ref) => {\r\n        alert('Item added to wishlist successfully')\r\n        console.log('Data written successfully')\r\n        });\r\n            // alert(\"Item added to cart successfully.\") \r\n        });\r\n\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n            \r\n        }\r\n    },\r\n    \r\n}\r\n</script>\r\n\r\n<template>\r\n\r\n    <div class=\"flex flex-row mt-7 border-\" @click=\"handler\">\r\n        <div class=\"w-60 bg-black bg-opacity-5 border-\">\r\n            <router-link :to=\"{\r\n             path: '/book',\r\n             query: {\r\n              id:this.id,\r\n              userID: this.userID\r\n                 }\r\n              }\"> \r\n            <img class=\"h-60 object-contain border-none w-full\" :src=\"bookImageURL\" alt=\"\">\r\n            </router-link> \r\n        </div>\r\n        <div class=\"border-2 border-opacity-5 border-black w-full\">\r\n            <div class=\"flex flex-col items-start ml-10\">\r\n               <router-link :to=\"{\r\n             path: '/book',\r\n             query: {\r\n              id:this.id,\r\n              userID: this.userID\r\n                 }\r\n              }\"> \r\n               <div class=\"mt-7 font-bold text-gray-700 text-lg cursor-pointer hover:text-secondary-1\">{{ bookName }}</div>\r\n                </router-link>\r\n                <div class=\"text-gray-500\">{{ bookDate }}</div>\r\n                <div class=\"text-gray-500\">{{ bookLanguage }}</div>\r\n                <div class=\"text-gray-500\">{{ bookCover }}</div>\r\n                <div class=\"flex flex-row justify-between w-full mt-14 pr-10 item-center\">\r\n                    <div class=\" font-bold text-gray-700 text-xl\">â‚¹ {{bookPrice}}</div>\r\n                    <div class=\"flex items-center\">\r\n                        <div class=\"py-2 w-32 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\" @click=\"addToWishlist\">\r\n                            Add to Wishlist\r\n                        </div> \r\n                        <div class=\"ml-5 py-2 w-32 text-sm text-white rounded-sm bg-secondary-1 text-center cursor-pointer hover:bg-primary-1 hover:text-gray-800 font-medium\" @click=\"addToCart\">\r\n                            Add to Cart\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}