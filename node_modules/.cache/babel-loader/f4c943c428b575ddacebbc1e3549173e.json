{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mb-5\"\n};\nconst _hoisted_2 = {\n  class: \"flex justify-between\"\n};\nconst _hoisted_3 = {\n  class: \"pl-4 pt-3 flex\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"ml-5 mt-1\"\n};\nconst _hoisted_6 = {\n  class: \"font-medium text-lg\"\n};\nconst _hoisted_7 = {\n  class: \"font-normal text-sm text-gray-600\"\n};\nconst _hoisted_8 = {\n  class: \"font-normal text-sm text-gray-600\"\n};\nconst _hoisted_9 = {\n  class: \"font-normal text-sm text-gray-600\"\n};\nconst _hoisted_10 = {\n  class: \"mr-20 flex flex-col justify-between items-end\"\n};\nconst _hoisted_11 = {\n  class: \"text-4xl font-bold text-gray-700 mr-5 mt-5\"\n};\nconst _hoisted_12 = {\n  class: \"flex gap-5\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"bg-gray-300 w-full h-px ml-4\"\n}, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"/book\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n      class: \"h-52\",\n      src: $props.bookImageURL,\n      alt: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_4), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, _toDisplayString($props.bookName), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_7, \"Author: \" + _toDisplayString($props.bookAuthor), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_8, \"Genre: \" + _toDisplayString($props.bookGenre), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_9, \"Publication Date: \" + _toDisplayString($props.bookYear), 1\n    /* TEXT */\n    )])])]),\n    _: 1\n    /* STABLE */\n\n  }), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, \" â‚¹ \" + _toDisplayString($props.bookPrice), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", {\n    class: \"bg-secondary-1 px-3 py-1 text-white hover:bg-primary-1 hover:text-secondary-1 cursor-pointer\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addToCart && $options.addToCart(...args))\n  }, \"Add to Cart\"), _createElementVNode(\"div\", {\n    class: \"bg-secondary-1 px-3 py-1 text-white hover:bg-primary-1 hover:text-secondary-1 cursor-pointer\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.removeFromWishList && $options.removeFromWishList(...args))\n  }, \"Remove from Wishlist\")])])])]), _hoisted_13], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;EA0IOA,KAAK,EAAC;;;EACEA,KAAK,EAAC;;;EAEAA,KAAK,EAAC;;;;EAEFA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;EAIdA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EAGNA,KAAK,EAAC;;;iCAO7BC,oBAAgD,KAAhD,EAAgD;EAA3CD,KAAK,EAAC;AAAqC,CAAhD,EAAyC,IAAzC,EAAyC;AAAA;AAAzC;;;;;6DAxBAC,oBAuBM,KAvBN,cAuBM,CAtBEA,oBAqBE,KArBF,cAqBE,CApBIC,aAUcC,sBAVd,EAUc;IAVDC,EAAE,EAAC;EAUF,CAVd,EAAuB;sBACvB,MAQM,CARNH,oBAQM,KARN,cAQM,CAPFA,oBAA6C,KAA7C,EAA6C;MAAxCD,KAAK,EAAC,MAAkC;MAA1BK,GAAG,EAAEC,mBAAqB;MAAPC,GAAG,EAAC;IAAG,CAA7C;;IAAA,aAOE,EANFN,oBAKM,KALN,cAKM,CAJFA,oBAAmD,KAAnD,cAAmDO,iBAAhBF,eAAgB,CAAnD,EAA2C;IAAA;IAA3C,CAIE,EAHFL,oBAA2E,KAA3E,cAA+C,aAAQO,iBAAEF,iBAAF,CAAvD,EAAmE;IAAA;IAAnE,CAGE,EAFFL,oBAAyE,KAAzE,cAA+C,YAAOO,iBAAEF,gBAAF,CAAtD,EAAiE;IAAA;IAAjE,CAEE,EADFL,oBAAmF,KAAnF,cAA+C,uBAAkBO,iBAAEF,eAAF,CAAjE,EAA2E;IAAA;IAA3E,CACE,CALN,CAME,CARN,CAQM,EATiB;;;;EAAA,CAAvB,CAoBJ,EATIL,oBAQM,KARN,eAQM,CAPFA,oBAEM,KAFN,eAAwD,QAClDO,iBAAEF,gBAAF,CADN,EACiB;EAAA;EADjB,CAOE,EAJFL,oBAGM,KAHN,eAGM,CAFFA,oBAA8I,KAA9I,EAA8I;IAAzID,KAAK,EAAC,8FAAmI;IAAnCS,OAAK,yCAAEC,iDAAF;EAA8B,CAA9I,EAA6H,aAA7H,CAEE,EADFT,oBAAgK,KAAhK,EAAgK;IAA3JD,KAAK,EAAC,8FAAqJ;IAArDS,OAAK,yCAAEC,mEAAF;EAAgD,CAAhK,EAAsI,sBAAtI,CACE,CAHN,CAIE,CARN,CASJ,CArBF,CAsBF,CAvBN,GAwBAC","names":["class","_createElementVNode","_createVNode","_component_router_link","to","src","$props","alt","_toDisplayString","onClick","$options","_hoisted_13"],"sourceRoot":"","sources":["C:\\Users\\naidu\\OneDrive\\Documents\\GitHub\\e-commerce-website\\src\\components\\WishList\\WishBooks.vue"],"sourcesContent":["<script>\r\nimport firebase from 'firebase/compat/app';\r\nexport default {\r\n    props:[\"bookName\",\"bookPrice\",\"bookImageURL\",\"bookYear\",\"bookGenre\",\"bookAuthor\",\"id\", \"bookID\"],\r\n    methods: { \r\n        addToCart(){\r\n            const db = firebase.firestore(); \r\n        console.log(\"Inside addToCart() method\")\r\n        try{\r\n        db.collection('Users').doc(this.id).get().then((r) => {\r\n            var addr1 = r.data().addrLine1\r\n            var addr2 = r.data().addrLine2\r\n            var mobile = r.data().mobile\r\n            var city = r.data().city\r\n            var landmark = r.data().landmark\r\n            var name = r.data().name\r\n            var state = r.data().state\r\n            var zipcode = r.data().zipcode\r\n            var cart = r.data().cart\r\n            var wishlist = r.data().wishList\r\n            var orders = r.data().orders\r\n            var email = r.data().email\r\n            var pfp = r.data().pfp\r\n\r\n            // console.log(r.data())\r\n\r\n            cart.push(this.bookID)\r\n            \r\n            //Removing null element if any from the array\r\n            var filtered = cart.filter(function (el) {\r\n            return el != '';\r\n            });\r\n\r\n            // source https://dev.to/soyleninjs/3-ways-to-remove-duplicates-in-an-array-in-javascript-259o : 2nd way\r\n            //Removing duplicate elements if any from the array \r\n            let uniqueCart = filtered.filter((element, index) => {\r\n                return filtered.indexOf(element) === index;\r\n            });\r\n\r\n        //    cart = null;\r\n           cart = uniqueCart;\r\n        //    console.log(this.cart)\r\n           console.log(uniqueCart)\r\n\r\n            db.collection('Users').doc(this.id).set({\r\n            addrLine1: addr1,\r\n            addrLine2: addr2,\r\n            cart: uniqueCart,\r\n            city: city,\r\n            landmark:landmark,\r\n            mobile: mobile,\r\n            name: name,\r\n            orders: orders,\r\n            state: state,\r\n            wishList: wishlist,\r\n            zipcode: zipcode,\r\n            email: email,\r\n            pfp: pfp\r\n            \r\n        }).then((ref) => {\r\n             console.log('Data written successfully')\r\n        alert('Item added to cart successfully')\r\n        });\r\n       \r\n            // alert(\"Item added to cart successfully.\") \r\n        });\r\n\r\n            \r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n            \r\n        },\r\n        removeFromWishList(){\r\n            console.log(this.id)\r\n             const db = firebase.firestore(); \r\n        console.log(\"Inside removeFromWishList() method\")\r\n        try{\r\n        db.collection('Users').doc(this.id).get().then((r) => {\r\n            console.log(r.data())\r\n            var addr1 = r.data().addrLine1\r\n            var addr2 = r.data().addrLine2\r\n            var mobile = r.data().mobile\r\n            var city = r.data().city\r\n            var landmark = r.data().landmark\r\n            var name = r.data().name\r\n            var state = r.data().state\r\n            var zipcode = r.data().zipcode\r\n            var cart = r.data().cart\r\n            var wishlist = r.data().wishList\r\n            var orders = r.data().orders\r\n            var email = r.data().email\r\n            var pfp = r.data().pfp\r\n\r\n        // console.log(r.data());\r\n            // console.log(r.data())\r\n            // console.log(wishlist)\r\n            // wishlist.pop(this.id)\r\n            let remove = []\r\n            remove = wishlist.filter((id) => id !== this.bookID)\r\n            console.log(this.BookID)\r\n            console.log(wishlist)\r\n            console.log(\"removed array \" +remove)\r\n\r\n            db.collection('Users').doc(this.id).set({\r\n            addrLine1: addr1,\r\n            addrLine2: addr2,\r\n            cart: cart,\r\n            city: city,\r\n            landmark:landmark,\r\n            mobile: mobile,\r\n            name: name,\r\n            orders: orders,\r\n            state: state,\r\n            wishList: remove,\r\n            zipcode: zipcode,\r\n            email: email,\r\n            pfp: pfp\r\n        }).then((ref) => {\r\n            this.$router.go()\r\n        });\r\n            \r\n        console.log('Data updated successfully')\r\n        // alert('Item removed from wishlist successfully')\r\n            // alert(\"Item added to cart successfully.\") \r\n        });\r\n\r\n            \r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n        }\r\n   }\r\n}\r\n</script>\r\n\r\n<template>\r\n \r\n  <div class=\"mb-5\">\r\n          <div class=\"flex justify-between\">\r\n                <router-link to=\"/book\">\r\n                <div class=\"pl-4 pt-3 flex\">\r\n                    <img class=\"h-52\" :src=\"bookImageURL\" alt=\"\">\r\n                    <div class=\"ml-5 mt-1\">\r\n                        <div class=\"font-medium text-lg\">{{bookName}}</div>\r\n                        <div class=\"font-normal text-sm text-gray-600\">Author: {{bookAuthor}}</div>\r\n                        <div class=\"font-normal text-sm text-gray-600\">Genre: {{bookGenre}}</div>\r\n                        <div class=\"font-normal text-sm text-gray-600\">Publication Date: {{bookYear}}</div>\r\n                    </div>\r\n                </div>\r\n                </router-link>\r\n                <div class=\"mr-20 flex flex-col justify-between items-end\">\r\n                    <div class=\"text-4xl font-bold text-gray-700 mr-5 mt-5\">\r\n                        â‚¹ {{bookPrice}}\r\n                    </div>\r\n                    <div class=\" flex gap-5\">\r\n                        <div class=\"bg-secondary-1 px-3 py-1 text-white hover:bg-primary-1 hover:text-secondary-1 cursor-pointer\" @click=\"addToCart\">Add to Cart</div>\r\n                        <div class=\"bg-secondary-1 px-3 py-1 text-white hover:bg-primary-1 hover:text-secondary-1 cursor-pointer\" @click=\"removeFromWishList\">Remove from Wishlist</div>\r\n                    </div>\r\n                </div>\r\n      </div>\r\n  </div>\r\n  <div class=\"bg-gray-300 w-full h-px ml-4\"></div>\r\n\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}