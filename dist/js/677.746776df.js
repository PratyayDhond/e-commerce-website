"use strict";(self["webpackChunkyogabhyas"]=self["webpackChunkyogabhyas"]||[]).push([[677],{6677:function(o,e,t){t.r(e),t.d(e,{default:function(){return H}});var a=t(3396);const s={class:"relative"},r={class:""},i={class:"mt-24 mx-40"},l=(0,a._)("div",{class:"text-3xl font-semibold text-gray-700 mb-5"},"Your WishList",-1);function d(o,e,t,d,n,c){const h=(0,a.up)("Header"),b=(0,a.up)("WishBooks");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",r,[(0,a.Wm)(h,{userID:n.id,class:"fixed z-10 w-full top-0"},null,8,["userID"])]),(0,a._)("div",i,[l,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.books,(o=>((0,a.wg)(),(0,a.iD)("div",{key:o.id},[(0,a._)("div",null,[(0,a.Wm)(b,{bookName:o.name,bookPrice:o.price,bookImageURL:o.url,bookYear:o.publicationYear,bookGenre:o.bookGenre,bookAuthor:o.author,bookID:o.id,id:n.id},null,8,["bookName","bookPrice","bookImageURL","bookYear","bookGenre","bookAuthor","bookID","id"])])])))),128))])])}var n=t(5925),c=t(3957),h=t(9211),b=t(355),m=t(4372),k=t(3411),u=t(2894),g=t(7139);const p={class:"mb-5"},f={class:"flex justify-between"},v={class:"pl-4 pt-3 flex"},y=["src"],x={class:"ml-5 mt-1"},L={class:"font-medium text-lg"},w={class:"font-normal text-sm text-gray-600"},I={class:"font-normal text-sm text-gray-600"},_={class:"font-normal text-sm text-gray-600"},D={class:"mr-20 flex flex-col justify-between items-end"},W={class:"text-4xl font-bold text-gray-700 mr-5 mt-5"},U={class:"flex gap-5"},Z=(0,a._)("div",{class:"bg-gray-300 w-full h-px ml-4"},null,-1);function C(o,e,t,s,r,i){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",p,[(0,a._)("div",f,[(0,a.Wm)(l,{to:"/book"},{default:(0,a.w5)((()=>[(0,a._)("div",v,[(0,a._)("img",{class:"h-52",src:t.bookImageURL,alt:""},null,8,y),(0,a._)("div",x,[(0,a._)("div",L,(0,g.zw)(t.bookName),1),(0,a._)("div",w,"Author: "+(0,g.zw)(t.bookAuthor),1),(0,a._)("div",I,"Genre: "+(0,g.zw)(t.bookGenre),1),(0,a._)("div",_,"Publication Date: "+(0,g.zw)(t.bookYear),1)])])])),_:1}),(0,a._)("div",D,[(0,a._)("div",W," â‚¹ "+(0,g.zw)(t.bookPrice),1),(0,a._)("div",U,[(0,a._)("div",{class:"bg-secondary-1 px-3 py-1 text-white hover:bg-primary-1 hover:text-secondary-1 cursor-pointer",onClick:e[0]||(e[0]=(...o)=>i.addToCart&&i.addToCart(...o))},"Add to Cart"),(0,a._)("div",{class:"bg-secondary-1 px-3 py-1 text-white hover:bg-primary-1 hover:text-secondary-1 cursor-pointer",onClick:e[1]||(e[1]=(...o)=>i.removeFromWishList&&i.removeFromWishList(...o))},"Remove from Wishlist")])])])]),Z],64)}var Y=t(6780),z={props:["bookName","bookPrice","bookImageURL","bookYear","bookGenre","bookAuthor","id","bookID"],methods:{addToCart(){const o=Y.Z.firestore();console.log("Inside addToCart() method");try{o.collection("Users").doc(this.id).get().then((e=>{var t=e.data().addrLine1,a=e.data().addrLine2,s=e.data().mobile,r=e.data().city,i=e.data().landmark,l=e.data().name,d=e.data().state,n=e.data().zipcode,c=e.data().cart,h=e.data().wishList,b=e.data().orders,m=e.data().email,k=e.data().pfp;c.push(this.bookID);var u=c.filter((function(o){return""!=o}));let g=u.filter(((o,e)=>u.indexOf(o)===e));c=g,console.log(g),o.collection("Users").doc(this.id).set({addrLine1:t,addrLine2:a,cart:g,city:r,landmark:i,mobile:s,name:l,orders:b,state:d,wishList:h,zipcode:n,email:m,pfp:k}).then((o=>{console.log("Data written successfully"),alert("Item added to cart successfully")}))}))}catch(e){console.log(e)}},removeFromWishList(){console.log(this.id);const o=Y.Z.firestore();console.log("Inside removeFromWishList() method");try{o.collection("Users").doc(this.id).get().then((e=>{console.log(e.data());var t=e.data().addrLine1,a=e.data().addrLine2,s=e.data().mobile,r=e.data().city,i=e.data().landmark,l=e.data().name,d=e.data().state,n=e.data().zipcode,c=e.data().cart,h=e.data().wishList,b=e.data().orders,m=e.data().email,k=e.data().pfp;let u=[];u=h.filter((o=>o!==this.bookID)),console.log(this.BookID),console.log(h),console.log("removed array "+u),o.collection("Users").doc(this.id).set({addrLine1:t,addrLine2:a,cart:c,city:r,landmark:i,mobile:s,name:l,orders:b,state:d,wishList:u,zipcode:n,email:m,pfp:k}).then((o=>{this.$router.go()})),console.log("Data updated successfully")}))}catch(e){console.log(e)}}}},A=t(89);const G=(0,A.Z)(z,[["render",C]]);var P=G,R={data(){return{wishlistBooks:[{bookName:"Gitanjali",bookPrice:"1300",bookImageURL:"https://picsum.photos/200/300",bookYear:"1910",bookGenre:"Poem",bookAuthor:"Rabindranath Tagore"},{bookName:"Ikigai",bookPrice:"520",bookImageURL:"https://picsum.photos/200/300",bookYear:"2001",bookGenre:"Self-Help",bookAuthor:"Priyanshu Lapkale"},{bookName:"A Thousand Splendid Suns",bookPrice:"320",bookImageURL:"https://picsum.photos/200/300",bookYear:"1920",bookGenre:"Thrill",bookAuthor:"Khaled Houssein"}],id:this.$route.query.id,books:[]}},created(){this.fetch()},components:{Header:n.Z,Filter:c.Z,LatestBooks:h.Z,ResultBook:b.Z,BookCoverCat:m.Z,OrderHistory:k.Z,OrderDetails:u.Z,WishBooks:P},methods:{fetch(){const o=Y.Z.firestore();console.log("Inside created() method of Wishlist");try{this.books=[],o.collection("Users").doc(this.id).get().then((e=>{console.log(e.data());var t=e.data().wishList;console.log(t);for(let a=0;a<t.length;a++)o.collection("books").doc(t[a]).get().then((o=>{this.books.push(o.data()),this.books[a].id=t[a]}));console.log("Wishlist books array"),console.log(this.books)}))}catch(e){console.log(e)}}}};const B=(0,A.Z)(R,[["render",d]]);var H=B}}]);
//# sourceMappingURL=677.746776df.js.map